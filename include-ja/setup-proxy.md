!!! info
    このセットアップ手順は、保護対象のWebアプリケーションの動作において独自のプロキシサーバーを使用しているユーザーを対象としています。
    
    プロキシサーバーを使用しない場合は、本セットアップ手順をスキップしてください。

Wallarmノードを独自のプロキシサーバーで使用するように設定するため、使用するプロキシサーバーを定義する環境変数に新しい値を割り当てる必要があります。

`/etc/environment`ファイルに環境変数の新しい値を追加してください:
*   httpsプロトコル用のプロキシを定義するために`https_proxy`を追加します。
*   httpプロトコル用のプロキシを定義するために`http_proxy`を追加します。
*   プロキシを使用しないリソースの一覧を定義するために`no_proxy`を追加します。

`https_proxy`および`http_proxy`変数には、`<scheme>://<proxy_user>:<proxy_pass>@<host>:<port>`形式の文字列値を割り当てます。
*   `<scheme>`は使用するプロトコルを定義します。現在の環境変数でプロキシを設定しているプロトコルと一致する必要があります。
*   `<proxy_user>`はプロキシ認証のユーザー名を定義します。
*   `<proxy_pass>`はプロキシ認証のパスワードを定義します。
*   `<host>`はプロキシサーバーのホストを定義します。
*   `<port>`はプロキシサーバーのポートを定義します。

`no_proxy`変数には、`"<res_1>, <res_2>, <res_3>, <res_4>, ..." `という形式の配列値を割り当て、`<res_1>`、`<res_2>`、`<res_3>`、および`<res_4>`はIPアドレスやドメインを表します。この配列は、IPアドレスやドメインで構成されます。

!!! warning "プロキシ経由ではアクセスできないリソース"
    システムが正しく動作するためには、プロキシ経由ではアクセスできないリソースの一覧に、以下のIPアドレスとドメインを追加してください: `127.0.0.1`、`127.0.0.8`、`127.0.0.9`、および`localhost`。
    `127.0.0.8`および`127.0.0.9`のIPアドレスは、Wallarmフィルタリングノードの動作に使用されます。

以下の正しい`/etc/environment`ファイルの内容例は、次の構成を示しています:
*   HTTPSおよびHTTPのリクエストは、`admin`ユーザー名および`01234`パスワードを使用してプロキシサーバーで認証し、`1.2.3.4`ホストの`1234`ポートへプロキシされます。
*   リクエストが`127.0.0.1`、`127.0.0.8`、`127.0.0.9`、および`localhost`へ送信される場合、プロキシが無効化されます。

```
https_proxy=http://admin:01234@1.2.3.4:1234
http_proxy=http://admin:01234@1.2.3.4:1234
no_proxy="127.0.0.1, 127.0.0.8, 127.0.0.9, localhost"
```