Ortam değişkeni | Açıklama| Gerekli
--- | ---- | ----
`WALLARM_API_TOKEN` | Wallarm düğümü veya API jetonu. | Evet
`WALLARM_LABELS` | <p>Node 4.6'dan itibaren kullanılabilir. Yalnızca `WALLARM_API_TOKEN` [Deploy] rolüne sahip [API jetonu][api-token] olarak ayarlanmışsa çalışır. Düğüm örneklerini gruplamak için `group` etiketini ayarlar, örneğin:</p> <p>`WALLARM_LABELS="group=<GROUP>"`</p> <p>...düğüm örneğini `<GROUP>` örnek grubuna yerleştirir (mevcutsa, değilse oluşturulur).</p> | Evet (API jetonları için)
`NGINX_BACKEND` | Wallarm çözümüyle korunacak kaynağın alan adı veya IP adresi. | Evet
`WALLARM_API_HOST` | Wallarm API sunucusu:<ul><li>US Cloud için `us1.api.wallarm.com`</li><li>EU Cloud için `api.wallarm.com`</li></ul>Varsayılan olarak: `api.wallarm.com`. | Hayır
`WALLARM_MODE` | Düğüm modu:<ul><li>Kötücül istekleri engellemek için `block`</li><li>Yalnızca [gri listeye alınmış IP adreslerinden][graylist-docs] gelen kötücül istekleri engellemek için `safe_blocking`</li><li>İstekleri engellemeden analiz etmek için `monitoring`</li><li>Trafik analizini ve işlenmesini devre dışı bırakmak için `off`</li></ul>Varsayılan olarak: `monitoring`.<br>[Filtrasyon modlarının ayrıntılı açıklaması →][filtration-modes-docs] | Hayır
`WALLARM_APPLICATION` | Wallarm Cloud içinde kullanılacak, korunan uygulamanın benzersiz tanımlayıcısı. Değer `0` hariç pozitif bir tamsayı olabilir.<br><br>Varsayılan değer (değişken konteynere iletilmezse) `-1`'dir; bu, Wallarm Console → Settings → Application bölümünde görüntülenen **varsayılan** uygulamayı belirtir.<br><br>[Uygulamaların yapılandırılması hakkında daha fazla bilgi →][application-configuration] | Hayır
`SLAB_ALLOC_ARENA` (`TARANTOOL_MEMORY_GB` [NGINX Node 5.x ve daha eski][what-is-new-wstore]) | [Bellek miktarı][allocating-memory-guide] wstore'a ayrılır. Değer bir float olabilir (ondalık ayırıcı olarak nokta <code>.</code>). Varsayılan olarak: 1.0 (1 gigabayt). | Hayır
`NGINX_PORT` | NGINX'in Docker konteyneri içinde kullanacağı bağlantı noktasını ayarlar.<br><br>Docker imgesi `4.0.2-1`'den başlayarak, [`wallarm-status`][node-status-docs] servisi otomatik olarak NGINX ile aynı bağlantı noktasında çalışır.<br><br>Varsayılan değer (değişken konteynere iletilmezse) `80`'dir.<br><br>Sözdizimi: `NGINX_PORT='443'`. | Hayır
<a name="wallarm-status-allow-env-var"></a>`WALLARM_STATUS_ALLOW` | Docker konteynerinin dışından [`/wallarm-status` uç noktası][node-status-docs]'na erişmesine izin verilen özel CIDR'lar. Örnek değer: `10.0.0.0/8`. Birden fazla değer iletmeniz gerekiyorsa, ayırıcı olarak virgül `,` kullanın. Servise harici olarak erişmek için Docker konteynerinin IP'sini kullanın ve `/wallarm-status` uç noktası yolunu belirtin. | Hayır
`DISABLE_IPV6`| Boş olmayan herhangi bir değere sahip olduğunda, NGINX yapılandırma dosyasından `listen [::]:80 default_server ipv6only=on;` satırını siler; bu da NGINX'in IPv6 bağlantılarını işlemeyi durdurmasına neden olur.<br><br>Değişken açıkça belirtilmezse veya boş `""` bir değere sahipse, NGINX hem IPv6 hem IPv4 bağlantılarını işler. | Hayır
`WALLARM_APIFW_ENABLE` | Bu ayar, 4.10 sürümünden itibaren kullanılabilen [API Spesifikasyonu Yaptırımı][api-policy-enf-docs] özelliğini açıp kapatır. Lütfen bu özelliği etkinleştirmenin, gerekli abonelik ve Wallarm Console UI üzerinden yapılandırmanın yerine geçmediğini unutmayın.<br><br>Varsayılan değeri `true` olup işlevi etkinleştirir. | Hayır
`WALLARM_APID_ONLY` (5.3.7 ve üzeri) | Bu modda, trafiğinizde tespit edilen saldırılar düğüm tarafından yerel olarak engellenir ([etkinse][filtration-modes]), ancak Wallarm Cloud'a aktarılmaz. Bu arada, [API Keşfi][api-discovery-docs] ve bazı diğer özellikler tamamen işlevsel kalır; API envanterinizi tespit eder ve görselleştirme için Cloud'a yükler. Bu mod, önce API envanterlerini gözden geçirmek ve hassas verileri belirlemek isteyen ve buna göre kontrollü saldırı verisi dışa aktarmayı planlayanlar içindir. Ancak saldırı ihracatını devre dışı bırakmak nadirdir; çünkü Wallarm saldırı verilerini güvenli bir şekilde işler ve gerekirse [hassas saldırı verisi maskeleme][sensitive-data-rule] sağlar. [Daha fazla ayrıntı][apid-only-mode-details]<br>Varsayılan olarak: `false`. | Hayır
`APIFW_METRICS_ENABLED` (6.4.1 ve üzeri) | API Spesifikasyonu Yaptırımı modülü için Prometheus metriklerini etkinleştirir.<br>Varsayılan olarak: `false` (devre dışı). | Hayır
`APIFW_METRICS_HOST` (6.4.1 ve üzeri) | API Spesifikasyonu Yaptırımı'nın metrikleri sunduğu ana makine ve bağlantı noktasını tanımlar.<br>Varsayılan olarak: `:9010`. | Hayır
`APIFW_METRICS_ENDPOINT_NAME` (6.4.1 ve üzeri) | API Spesifikasyonu Yaptırımı metrikleri uç noktasının HTTP yolunu tanımlar<br>Varsayılan olarak: `metrics`. | Hayır