[al-brute-force-attack]:      ../../attacks-vulns-list.md#brute-force-attack
[al-forced-browsing]:         ../../attacks-vulns-list.md#forced-browsing

# Aktif Tehdit Doğrulamanın Genel Bakışı <a href="../../../about-wallarm/subscription-plans/#subscription-plans"><img src="../../../images/api-security-tag.svg" style="border: none;"></a>

Wallarm'ın Aktif Tehdit Doğrulaması, saldırganları kendi penetrasyon testçilerinize dönüştürür. İlk saldırı girişimlerini analiz eder, sonra aynı saldırının başka yollarla nasıl sömürülebileceğini araştırır. Bu, orijinal saldırganların bile bulamadığı çevrenizdeki zayıf noktaları ortaya çıkarır.

Aktif Tehdit Doğrulamasının yetenekleri:

* **Gerçek zamanlı test**: Canlı saldırı verilerini kullanarak mevcut ve potansiyel gelecek zayıf noktaları belirler, sizi hackerların bir adım önünde tutar.
* **Güvenli ve akıllı simülasyon**: Hassas kimlik doğrulama ayrıntılarını atlar ve testlerde zararlı kodları kaldırır. Maksimum güvenlik için saldırı tekniklerini simüle eder, gerçek zarara risk atmayız.
* **Güvenli üretim öncesi testler**: Gerçek üretim verilerini kullanarak [bir aşama veya geliştirme kurulumunda güvenlik açığı kontrolleri çalıştırmanızı](running-test-on-staging.md) sağlar, ancak sistem aşırı yüklenme veya veri maruz kalma gibi riskler olmaz.

## Nasıl çalışır

Aktif Tehdit Doğrulama modülü, Wallarm Cloud üzerinde çalışır. Başlangıçta, modül, [Wallarm filtreleme düğümü](../../installation/supported-deployment-options.md)'nün algılayıp Buluta yüklediği zararlı istekler hakkında ayrıntılı bilgiler toplar. Bu elde edilen verileri kullanarak, modül yaklaşık 100-150 test isteği oluşturan bir dizi oluşturur. Bu test istekleri, aynı güvenlik açığı türlerini hedefler ancak farklı hedef yükleri kullanır.

Saldırı simülasyonları seti, orijinal zararlı isteğin aynı adresine yönlendirilir. Ancak, modül bu test isteklerini alternatif hedeflere [yönlendirme esnekliği sunar](running-test-on-staging.md), örneğin aşama veya geliştirme ortamlarına.

Modül, test isteklerine verilen yanıtları analiz ederek spesifik [saldırı türleri](../../attacks-vulns-list.md)ne karşı zayıflıkları belirler. Keşfedilen zayıflıklar, Wallarm Console UI'nin [**Güvenlik Açıkları**](../../user-guides/vulnerabilities.md) bölümünde kataloglanır. Ek olarak, bu bulgular hakkında [bildirimler](../../user-guides/settings/integrations/integrations-intro.md) almayı seçebilirsiniz.

Aşağıdaki diyagram, modülün nasıl çalıştığını gösterir:

![ATV şeması](../../images/vulnerability-detection/active-threat-verification-scheme-prod.png)

Oluşturulan istekler `User-Agent: Wallarm Threat-Verification (v1.x)` başlığını taşır, onları diğer isteklerden ayırt etmeye yardımcı olur.

### Test talebi güvenliği

Aktif Tehdit Doğrulama modülü, aşağıdaki anahtar özelliklere sahip en güvenli şekilde test talepleri oluşturmak üzere tasarlanmıştır:

* Oluşturulan isteklerin zararlı hedef yükleri, gerçek zararlı sözdizimi içermez, yalnızca saldırı ilkesini taklit etmek amaçlanmıştır. Sonuç olarak, kaynaklarınıza zarar vermezler.
* 'Cookie', 'Authorization: Basic' ve 'Viewstate' gibi kimlik doğrulama başlıkları, yeniden oynatılan isteklerden çıkarılır. Ayrıca, [özel kimlik doğrulama başlıkları](modify-requests-before-replay.md#replacing-original-authentication-data-with-test-data) ve [maskelama kuralı](../../user-guides/rules/sensitive-data-rule.md) kılavuzluğunda, ek başlıklar gerektiği gibi uyarlanabilir veya kaldırılabilir.

### Örnek

Wallarm filtreleme düğümünün ilk olarak algıladığı ve Buluta yüklediği aşağıdaki gerçek dünya benzeri GET isteğini düşünün:

```bash
https://example.com/login&user=UNION SELECT username, password
```

Modül, istekten aşağıdaki ayrıntıları öğrenir:

* Saldırıya uğrayan URL `https://example.com/login`dir
* Kullanılan saldırı tipi SQLi'dir ('UNION SELECT username, password' hedef yüküne göre)
* Saldırıya uğrayan sorgu dizesi parametresi 'user'dir
* İstekte belirtilen ek bilgi, istek dizesi parametresi 'token=IyEvYmluL3NoCg'dır (muhtemelen uygulamanın kullanıcıyı kimlik doğrulaması için kullanılır)

Bu verileri kullanarak, modül bir dizi test isteği hazırlar. Bu istekler, aşağıdaki gibi farklı hedef yükler kullanarak olası SQL enjeksiyon zayıflıklarına odaklanır:

```bash
https://example.com/login&user=1')+WAITFOR+DELAY+'0 indexpt'+AND+('wlrm'='wlrm
https://example.com/login&user=1+AND+SLEEP(10)--+wlrm
https://example.com/login&user=1);SELECT+PG_SLEEP(10)--
https://example.com/login&user=1'+OR+SLEEP(10)+AND+'wlrm'='wlrm
https://example.com/login&user=1+AND+1=(SELECT+1+FROM+PG_SLEEP(10))
https://example.com/login&user=%23'%23\x22%0a-sleep(10)%23
https://example.com/login&user=1';+WAITFOR+DELAY+'0code:10'--
https://example.com/login&user=1%27%29+OR+SLEEP%280%29+AND+%28%27wlrm%27%3D%27wlrm
https://example.com/login&user=SLEEP(10)/*'XOR(SLEEP(10))OR'|\x22XOR(SLEEP(10))OR\x22*/
```

## Modülü etkinleştirme

Modül varsayılan olarak devre dışıdır. Aktifleştirmek için:

1. Aktif bir **Gelişmiş API Güvenliği** [abonelik planınızın](../../about-wallarm/subscription-plans.md#subscription-plans) olduğundan emin olun. Bu modül, yalnızca bu plan altında mevcuttur.

    Farklı bir plana sahipseniz, lütfen gereken plana geçiş yapmak için [satış ekibimizle](mailto:sales@wallarm.com) iletişime geçin.
1. [ABD Bulutu](https://us1.my.wallarm.com/vulnerabilities/active?configure=true) veya [AB Bulutu](https://my.wallarm.com/vulnerabilities/active?configure=true) linkini takip ederek Wallarm Console → **Güvenlik Açıkları** → **Yapılandır**'a gidin ve **Aktif tehdit doğrulaması** anahtarını açın.

Ayrıca, belirli hedef noktalar için [modülün davranışını ayarlama veya özelleştirme](enable-disable-active-threat-verification.md) olanağına da sahipsiniz.

## Sınırlamalar

Aktif tehdit doğrulaması, [IP'lerden gelen hitlerle oluşan saldırılar için kullanılamaz](../../user-guides/triggers/trigger-examples.md#group-hits-originating-from-the-same-ip-into-one-attack).
