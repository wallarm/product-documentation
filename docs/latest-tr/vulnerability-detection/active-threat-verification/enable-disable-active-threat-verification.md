# Aktif Tehdit Doğrulamasını Global Olarak veya Belirli Uç Noktalar için Etkinleştirme<a href="../../../about-wallarm/subscription-plans/#subscription-plans"><img src="../../../images/api-security-tag.svg" style="border: none;"></a>

[Wallarm'ın Aktif Tehdit Doğrulama](overview.md) modülü, filtreleme düğümünün kurulduğu tüm uç noktaları etkileyen bir şekilde küresel olarak veya belirli uç noktaları için tek tek etkinleştirilebilir. Bu makale, modülün davranışını yönetme talimatları sağlar.

## Modülü küresel olarak etkinleştirme

Aktif Tehdit Doğrulama varsayılan olarak devre dışıdır. Bunu küresel olarak etkinleştirmek için:

1. Aktif bir **İleri API Güvenliği** [abonelik planınızın](../../about-wallarm/subscription-plans.md#subscription-plans) olduğundan emin olun. Modül, yalnızca bu plan altında mevcuttur.

    Farklı bir plan üzerindeyseniz, lütfen gerekli plana geçiş yapmak için [satış ekibimiz](mailto:sales@wallarm.com) ile iletişime geçin.
1.  [US Cloud](https://us1.my.wallarm.com/vulnerabilities/active?configure=true) veya [EU Cloud](https://my.wallarm.com/vulnerabilities/active?configure=true) için linki takip ederek, Wallarm Console → **Vulnerabilities** → **Configure**'a gidin ve **Aktif tehdit doğrulamayı** açın.

Bu işlem, filtreleme düğümünün yapılandırıldığı tüm kaynaklar için modülü etkinleştirir.

![!Vuln scan settings](../../images/user-guides/vulnerabilities/vuln-scan-settings.png)

## Belirli uç noktalar için modül modunu kontrol etme

Modül [küresel olarak etkinleştirildikten](#enabling-the-module-globally) sonra, belirli uç noktalar için davranışını ilgili kuralı kullanarak özelleştirebilirsiniz. İşte nasıl:

1. Wallarm Console → **Rules** → **Set mode of active thread verification** kuralını oluşturun.
1. Kural oluşturma formunu takip edilen talimatlara göre doldurun:

    * **If request is** [belirtir](../../user-guides/rules/rules.md#branch-description) kuralın uygulanacağı uç noktaları.
    * **Disable / Enable**, belirtilen uç noktalara gönderilen saldırılar için modülün modunu ayarlar.

    Modülü devre dışı bırakan bir kural için istisnalar yapmak için **Enable** ayarını kullanın (örneğin, `https://example.com/module/user/create` için etkinleştirirken `https://example.com/module/user/*` için devre dışıdır).
1. [Özel kurallar setinin derlenmesini bitirmek](../../user-guides/rules/rules.md) için bekleyin.

### Modülü belirli uç noktalar için etkinleştirme

Modülü yalnızca belirli uç noktalar için etkinleştirmek için:

1. Wallarm Console → **Vulnerabilities** → **Configure'da** modülü global olarak etkinleştirin.
1. **Set mode of active threat verification** kuralını oluşturarak ve **If request is** bölümünü boş bırakarak tüm uç noktalar için modülü devre dışı bırakın.
1. Modülü belirli konaklar, uygulamalar veya uç noktalar için etkinleştirmek için **Set mode of active threat verification** kurallarını oluşturun ve bunları **If request is rule** bölümünde tanımlayın.

Modülün tüm uç noktalar için devre dışı bırakıldığı durumda kural şöyle görünür:

![! "Set mode of active threat verification" kuralının örneği](../../images/user-guides/rules/disable-atv-for-all-endpoints.png)

Yukarıda bahsedilen kural zaten aktifse, aşağıdaki kural `https://example.com/module/user/create` için modülü etkinleştirir:

![! "Set mode of active threat verification" kuralının örneği](../../images/user-guides/rules/disable-active-threat-verification-deeper-path-example.png)

Alternatif olarak, bir URL için kural uygulayarak modülü devre dışı bırakabilir ve daha sonra bu URL ile ilgili belirli uç noktalar için etkinleştirebilirsiniz.

### Modülü belirli uç noktalar için devre dışı bırakma

Sahne ortamı olmayan uç noktalar için, özellikle otoyükleme özelliği olmayan veya kimlik doğrulama mekanizması olmayan uç noktalar için, saldırı tekrarını devre dışı bırakmanız önerilir. Bu korumalar olmadan, modül istemeden zararlı eylemleri tekrarlayabilir, örneğin para işlemlerini birden çok kez işleme alabilir veya tekrar tekrar yeni hesaplar oluşturabilir.

Modülü belirli uç noktalar için devre dışı bırakmak için:

1. Wallarm Console → **Vulnerabilities** → **Configure'da** modülü global olarak etkinleştirin.
1. **Set mode of active threat verification** kuralını kullanarak gerekli uç noktalar için modülü devre dışı bırakın. Bu uç noktaları **If request is** kural bölümünde tanımlayın.

Alışveriş platformundaki gibi POST `https://example.com/api/purchase` gibi bir non-idempotent uç nokta düşünün. Eğer bu eylem modül tarafından yanlışlıkla tekrarlanırsa, tek bir ürün için çoklu ücretlendirmeye kadar gibi sonuçlar doğurabilir. Bu nedenle, üretim ortamında böyle uç noktalar için, saldırı tekrarını devre dışı bırakmanız önerilir. Böyle bir uç nokta için kural şu şekilde görünürdü:

![! "Set mode of active threat verification" kuralının örneği](../../images/user-guides/rules/disable-atv-for-non-indemponent-end.png)