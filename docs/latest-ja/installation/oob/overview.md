# WallarmのOutOfBand（OOB）デプロイメントの概要

Wallarmは、トラフィックのミラー経由でリクエストを検査するOutOfBand（OOB）セキュリティソリューションとしてデプロイできます。この記事では、そのアプローチを詳しく説明します。

OOBアプローチでは、Wallarmソリューションを別のネットワークセグメントに配置し、メインのデータパスやそれによって生じるアプリケーションのパフォーマンスへの影響を受けることなく、受信トラフィックを検査します。悪意のあるリクエストを含むすべての受信リクエストが、それが向けられているサーバーに到達します。

## ユースケース

トラフィックのミラーリングは、OOBアプローチの重要な要素です。受信トラフィックのミラー（コピー）がWallarmのOOBソリューションに送信され、そのソリューションは実際のトラフィックではなくコピー上で動作します。

OOBソリューションは悪意のある活動を記録するだけでブロックしないため、リアルタイム保護要件が厳しくない組織にとって、ウェブアプリケーションとAPIのセキュリティを実装する効果的な方法です。OOBソリューションは、次のユースケースに適しています：

* アプリケーションのパフォーマンスに影響を与えることなく、ウェブアプリケーションとAPIが遭遇する可能性のあるすべての脅威について知識を得る。
* モジュールを[インライン](../inline/overview.md)で稼働させる前に、トラフィックのコピーに対してWallarmソリューションをトレーニングする。
* 監査用にセキュリティログをキャプチャします。Wallarmは、多数のSIEMシステム、メッセンジャーなどとの[ネイティブな統合](../../user-guides/settings/integrations/integrations-intro.md)を提供します。

以下の図は、WallarmのOutOfBandデプロイメントにおける一般的なトラフィックフローの視覚的な表現を提供します。この図はすべての可能なインフラストラクチャのバリエーションを捉えているわけではありません。トラフィックミラーはインフラストラクチャの任意のサポートレイヤーで生成し、Wallarmのノードに送信することができます。また、特定のセットアップでは、ロードバランシングやその他のインフラレベルの設定が異なる場合があります。

![OOB scheme](../../images/waf-installation/oob/wallarm-oob-deployment-scheme.png)

## 利点と限界

OOBアプローチを使用したWallarmのデプロイメントは、インラインデプロイメントなど、他のデプロイメント方法に対していくつかの利点を提供します：

* セキュリティソリューションが主要なデータパスとインラインで動作するときに発生する可能性のある遅延や他のパフォーマンス問題を導入しません。
* プライマリデータパスに影響を与えることなく、ネットワークにソリューションを追加または削除できるため、柔軟性とデプロイメントの容易さを提供します。

しかし、OOBデプロイメントアプローチは安全なものであるにもかかわらず、いくつかの制限があります：

* Wallarmは、実際のトラフィックフローにかかわらずトラフィック分析が進行するため、悪意のあるリクエストを即座にブロックしません。

    Wallarmは攻撃を観察し、[Wallarmコンソールでの詳細](../..//user-guides/events/analyze-attack.md)を提供します。
* [パッシブ検出](../../about-wallarm/detecting-vulnerabilities.md#passive-detection)方法を使用した脆弱性の発見は正常に機能しません。このソリューションは、サーバーの応答に基づいてAPIが脆弱性を持っているかどうかを判断します。これはその脆弱性をテストするのに典型的な悪意のあるリクエストです。
* [Wallarm API Discovery](../../about-wallarm/api-discovery.md)は、モジュールの操作に必要なサーバーの応答がミラーリングされないため、トラフィックに基づいてAPIのインベントリを探索しません。
* 応答コードの分析が現在可能ではないため、[強制的なブラウジングに対する保護](../../admin-en/configuration-guides/protecting-against-bruteforce.md)は利用できません。

## サポートされているデプロイメントオプション

Wallarmは、さまざまな方法でミラーリングされたトラフィックのOutOfBand（OOB）デプロイメントオプションを提供しています：

* NGINX、Envoy、Istioなどのほとんどのサービスは、トラフィックのミラーリング用の組み込みモジュールまたは機能を提供しています。これらのソリューションによってミラーリングされたトラフィックを分析するためのWallarmのOOBセキュリティソリューションを選好する場合、[適切なデプロイメントオプションの概要](web-server-mirroring/overview.md)をご覧ください。
