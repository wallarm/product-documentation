# Wallarm Nodeバージョニングポリシー

このドキュメントでは、セルフホスト型の[NGINXベースおよびNative Node](../installation/nginx-native-node-internals.md)と、セルフホスト型Native Nodeとバージョンを共有する[Edge Node](../installation/security-edge/overview.md)に関するWallarmのバージョニングポリシーを詳述します。ノードの更新を管理するためのバージョン規約、リリーススケジュール、互換性ガイドラインを説明します。

各Nodeのバージョンは、Dockerイメージ、Helmチャート、オールインワンインストーラーなど、さまざまなプラットフォームへのデプロイ用にパッケージ化されたアーティファクトのセットとしてリリースされます。

## バージョン一覧

| NGINX Nodeのバージョン | Native/Edge Nodeのバージョン | リリース日     | サポート終了   |
|--------------------|---------------------|----------------|---------------|
| 2.18およびそれ以下の2.x | -                   |                | 2021年11月     |
| 3.6およびそれ以下の3.x  | -                   | 2021年10月     | 2022年11月     |
| 4.6およびそれ以下の4.x  | -                   | 2022年6月      | 2024年4月      |
| 4.8                | -                   | 2023年10月     | 2024年11月     |
| 4.10               | -                   | 2024年1月      | 2025年7月      |
| 5.x                | 0.13.x-             | 2024年7月      |               |
| 6.x                | 0.14.x+             | 2025年3月      |               |

## バージョン構造

Nodeのバージョンは次の形式に従います:

```bash
<MAJOR_VERSION>.<MINOR_VERSION>.<PATCH_VERSION>[-<BUILD_NUMBER>]
```

| 要素 | 説明 | リリース頻度 |
| ------- | ----------- | ----------------- |
| `<MAJOR_VERSION>` | メジャーバージョンの変更は、重要なアップデート、大きな新機能、または互換性を破る変更を示します。+1ずつ増加します（例: `4.x`、`5.x`）。 | 6か月ごと、または大きな変更が必要な場合 |
| `<MINOR_VERSION>` | マイナーバージョンの変更には、既存機能の範囲内での強化や新たな能力の追加が含まれますが、大きな新しいユースケースは導入しません。+1ずつ増加します（例: `5.0`、`5.1`）。 | 毎月 |
| `<PATCH_VERSION>` | 小さなバグ修正や特定の改善のためのパッチです。最新のマイナーリリースにのみ適用されます。数値はリリースブランチのコミット数に基づいて連番で増加します（+1、+2など）。例えば、`5.1.0`、`5.1.1`です。 | 必要に応じて |
| `<BUILD_NUMBER>`（任意） | Wallarm Node自体に関係しない変更（例: Helmチャートの依存関係更新）を示します。パッチリリース間にアーティファクトに変更がある場合にのみ、この番号が増加します（例: `5.1.0-1`、`5.1.0-2`）。 | 必要に応じて |

このバージョニング方式はすべてのNodeタイプに等しく適用されます。ただし、それぞれ独立してリリースされます。

## バージョンサポート方針

Wallarmは最新のメジャーバージョン2系について、それぞれの最新マイナーバージョンに限定して、バグ修正、機能更新、脆弱性パッチを提供してサポートします。例えば、6.xがリリースされると、5.xの最新マイナーバージョン（例: 5.12）のみがサポート対象になります。

新しいメジャーバージョンのリリース後、2世代前に相当するバージョン（例: 6.x → 4.x）のサポートは3か月後に終了します。

非推奨バージョンは引き続きダウンロード可能ですが、更新は提供されません。

## NGINX互換性

NGINX Nodeのアーティファクトの大半は、アップストリームのNGINXの安定版に合わせています。

例えば、Wallarm Ingress Controllerは[Community Ingress NGINX Controller](https://github.com/kubernetes/ingress-nginx)に基づいています。アップストリームのバージョンが非推奨とマークされた場合、Wallarmは30日以内に新しい安定版へ更新し、マイナーバージョンとしてリリースします。互換性を確保するために前倒しで更新する場合もありますが、非推奨の指定より後に遅延することはありません。

## 新バージョンの通知

Wallarmはメジャーおよびマイナーアップデートのリリースノートを次の場所で公開します:

* 公開ドキュメント - [NGINX Nodeアーティファクト一覧](node-artifact-versions.md)および[Native Nodeアーティファクト一覧](native-node/node-artifact-versions.md)を参照してください
* [製品の変更履歴](https://changelog.wallarm.com/)
* Wallarm Consoleのupdates section

    ![Wallarm Consoleの新バージョン通知](../images/updating-migrating/wallarm-console-new-version-notification.png)
* Wallarm Consoleの各ノードは、**Up to date**ステータスを表示するか、各コンポーネントの利用可能なアップデートを一覧表示します。

    ![Node card](../images/user-guides/nodes/view-regular-node-comp-vers.png)

## アップグレード手順

メジャーおよびマイナーアップデートのインストール手順は、新バージョンと同時に公開されます。特定のアーティファクトの更新手順の詳細は、ドキュメントのOperations → Node Upgradeを参照してください。