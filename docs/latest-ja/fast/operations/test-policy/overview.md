[doc-insertion-points]:     insertion-points.md

[gl-vuln]:                  ../../terms-glossary.md#vulnerability
[gl-point]:                 ../../terms-glossary.md#point
[gl-anomaly]:               ../../terms-glossary.md#anomaly

# FASTテストポリシー：概観

FASTは、アプリケーションの[脆弱性][gl-vuln]をテストする際のFASTノードの動作を設定できるテストポリシーを使用します。このセクションのドキュメントには、テストポリシーの管理に関する指示が含まれています。

!!! info "用語"
    このドキュメンテーションセクションでは、「FASTテストポリシー」の言葉は「ポリシー」と略すことができます。

## テストポリシーの原則

FASTはリクエスト要素を[ポイント][gl-point]として表現し、処理が許可された1つ以上のポイントを含むリクエストのみを処理します。そのようなポイントのリストはポリシーを通じて定義されます。リクエストに許可されたポイントが含まれていない場合、それは破棄され、その基本上にテストリクエストは作成されません。

ポリシーは以下のポイントを規制します：

* テストが行われる方法

    テスト中、FASTは以下のいずれか、または複数の方法を使用します：

    * 組み込みのFAST拡張機能を使用した脆弱性の検出、*detects*とも呼ばれる
    * カスタム拡張機能を使用した脆弱性の検出
    * FASTファズテストを使用した[異常][gl-anomaly]の検出

* アプリケーションのテスト中にFASTノードが処理するベースラインリクエストの要素

    処理が許可されたポイントは、Wallarmアカウントのポリシーエディターの **挿入点** > **リクエスト内で含める場所**セクションで設定されます。挿入点についての詳細は[こちら][doc-insertion-points]のリンクで確認できます。

* アプリケーションのテスト中にFASTノードが処理しないベースラインリクエストの要素

    処理が許可されていないポイントは、Wallarmアカウントのテストポリシー設定の**挿入点** > **リクエスト内で除外する場所**セクションで設定されます。挿入点についての詳細は[こちら][doc-insertion-points]のリンクで確認できます。

    処理が許可されていないポイントは、**リクエスト内で含める場所**セクションに多くのポイントがある場合や、特定の要素の処理を除外する必要がある場合に使用できます。例えば、すべてのGETパラメーターが処理の許可されている場合（`GET_.*`）、`uuid`パラメーターの処理を除外する必要がある場合、`GET_uid_value`表現は**リクエスト内で除外する場所**セクションに追加するべきです。

!!! warning "ポリシーの範囲"
    明示的にポイントを除外すると、FASTノードの処理はポリシーによって許可されたポイントのみに制限されます。

    リクエスト内の他の任意のポイントの処理は行われません。

??? info "ポリシーの例"
    ![Policy example](../../../images/fast/operations/common/test-policy/overview/policy-flow-example.png)

    上の画像は、脆弱性の検出にFASTノードが使用するポリシーを示しています。このポリシーは、基本リクエストのすべてのGETパラメーターを処理することを許容し、常に目標アプリケーションにそのまま渡される`token`GETパラメーターを除きます。

    さらに、このポリシーは、ファズャーが非アクティブの間、組み込みのFAST拡張機能とカスタム拡張機能を使用することを許可します。

    したがって、detectsと拡張機能を使用した脆弱性のテストは、基本リクエスト**A**(`/app.php?uid=1234`)
    に対してのみ実施されます。

    基本リクエスト**B**(`/app.php?token=qwe1234`)に対する脆弱性のテストは、処理が許可されたGETパラメーターを含まないため実施されません。その代わりに、除外されたパラメーター`token`が含まれています。