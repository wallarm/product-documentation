# マーカーを用いたDetectフェーズの動作原理

マーカーは、テストリクエストによって脆弱性が利用されたかどうか確認するための有用なツールです。マーカーは、detectセクションの大部分のパラメータに挿入できます。

現在、FAST拡張では以下のマーカーがサポートされています:
* `STR_MARKER`文字列マーカーは、ランダムな記号からなる文字列です。 

    ペイロードの一部として`STR_MARKER`を転送した場合、レスポンス内でこれが検知されると、対象アプリケーションへの攻撃が成功した可能性を意味します。

    たとえば、サーバーのレスポンスHTMLマークアップに`alert`が存在しているという事実は、必ずしもアプリケーションに脆弱性が存在することを意味しません。サーバー自身が`<alert>`を生成する場合があります。レスポンス内に`alert`（つまり`STR_MARKER`）が存在するということは、ペイロードを含むテストリクエストに対するレスポンスであり、脆弱性の悪用が成功したことを意味します。

    この文字列マーカーは、主にXXS脆弱性の悪用に使用されます。

* 数値の`CALC_MARKER`は、脆弱性悪用時に計算可能な算術式です。 

    ペイロードの一部として`CALC_MARKER`を転送した場合、計算結果がレスポンスに検知されると、対象アプリケーションへの攻撃が成功した可能性を意味します。

    この数値マーカーは、主にRCE脆弱性の悪用に使用されます。

* `DNS_MARKER`は、`abc123.wlrm.tl`のようなランダムに生成されたドメイン名です。対象アプリケーションがこの名前をIPアドレスに変換しようと試みることがあります。

    ペイロードの一部として`DNS_MARKER`を転送した場合、生成されたドメイン名へのDNSリクエストが検知されると、対象アプリケーションへの攻撃が成功した可能性を意味します。