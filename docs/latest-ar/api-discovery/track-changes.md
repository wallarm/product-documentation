# تتبع تغييرات في واجهة برمجة التطبيقات <a href="../../about-wallarm/subscription-plans/#subscription-plans"><img src="../../images/api-security-tag.svg" style="border: none;"></a>

إذا حدثت تغييرات في واجهة برمجة التطبيقات الخاصة بك، يقوم [اكتشاف واجهة برمجة التطبيقات](overview.md) بتحديث جرد واجهة برمجة التطبيقات المبني، ويبرز التغييرات ويوفر لك المعلومات حول متى وماذا تغير. بالإضافة إلى ذلك، يمكنك إعداد الإشعارات على جميع التغييرات أو بعضها.

![اكتشاف واجهة برمجة التطبيقات - تتبع التغييرات](../images/about-wallarm-waf/api-discovery/api-discovery-track-changes.png)

قد تمتلك الشركة فرق عمل متعددة، ولغات برمجة مختلفة، ومجموعة متنوعة من إطارات العمل. لذلك، يمكن أن تأتي التغييرات إلى واجهة برمجة التطبيقات في أي وقت من مصادر مختلفة مما يجعلها صعبة السيطرة عليها. بالنسبة لضباط الأمان، من المهم اكتشاف التغييرات في أقرب وقت ممكن وتحليلها. إذا تم تجاهلها، فقد تحمل هذه التغييرات بعض المخاطر، على سبيل المثال:

* قد يبدأ فريق التطوير في استخدام مكتبة خارجية بواجهة برمجة تطبيقات منفصلة ولا يُبلغون متخصصي الأمان عن ذلك. بهذه الطريقة، تحصل الشركة على نقاط نهاية غير مراقبة وغير مفحوصة بحثًا عن الثغرات الأمنية. يمكن أن تكون هذه نقاط اتجاه هجوم محتملة.
* يبدأ نقل بيانات التعريف الشخصية إلى نقطة النهاية. يمكن أن يؤدي النقل غير المخطط لبيانات التعريف الشخصية إلى انتهاك الامتثال لمتطلبات الجهات التنظيمية، فضلاً عن التعرض لمخاطر سمعية.
* نقطة النهاية المهمة لمنطق الأعمال (على سبيل المثال، `/login`, `/order/{order_id}/payment/`) لم يعد يتم استدعاؤها.
* بدأت نقل البارامترات الأخرى التي لا ينبغي نقلها، على سبيل المثال `is_admin` (يحاول شخص ما الوصول إلى نقطة النهاية ويحاول القيام بها بحقوق المسؤول) إلى نقطة النهاية.

## تسليط الضوء على التغييرات في واجهة برمجة التطبيقات

في كل مرة تفتح فيها قسم **اكتشاف واجهة برمجة التطبيقات**، ينتقل مرشح **التغييرات منذ** إلى حالة `الأسبوع الماضي`، الأمر الذي يعني أن التغييرات التي حدثت خلال الأسبوع الماضي تُبرز. لتغيير الفترة الزمنية، أعد تعريف التواريخ في مرشح **التغييرات منذ**.

في قائمة نقاط النهاية، تبرز العلامات التالية التغييرات في واجهة برمجة التطبيقات:

* **جديد** لنقاط النهاية المضافة إلى القائمة خلال الفترة.
* **تغير** لنقاط النهاية التي اكتشفت بها بارامترات جديدة أو بارامترات حصلت على حالة `غير مستخدمة` خلال الفترة. في تفاصيل نقطة النهاية، ستكون لهذه البارامترات علامة مقابلة.

    * يحصل البارامتر على حالة `جديد` إذا تم اكتشافه خلال الفترة.
    * يحصل البارامتر على حالة `غير مستخدمة` إذا لم يمر بأي بيانات لمدة 7 أيام.
    * إذا مر البارامتر في حالة `غير مستخدمة` ببيانات مرة أخرى، فسيفقد حالة `غير مستخدمة`.

* **غير مستخدمة** لنقاط النهاية التي حصلت على حالة `غير مستخدمة` خلال الفترة.

    * تحصل نقطة النهاية على حالة `غير مستخدمة` إذا لم يتم طلبها (مع الرمز 200 في الرد) لمدة 7 أيام.
    * إذا تم طلب نقطة النهاية في حالة `غير مستخدمة` مرة أخرى (مع الرمز 200 في الرد) فستفقد حالة `غير مستخدمة`.

لاحظ أنه مهما كانت الفترة المختارة، إذا لم يتم تمييز أي شيء بعلامة **جديد**، **تغير** أو **غير مستخدمة**، هذا يعني أنه لا توجد تغييرات في واجهة برمجة التطبيقات خلال تلك الفترة.

![اكتشاف واجهة برمجة التطبيقات - تتبع التغييرات](../images/about-wallarm-waf/api-discovery/api-discovery-track-changes.png)

نصائح سريعة لنقاط النهاية المصنفة على أنها مارقة:

* مرر الماوس فوق علامات **جديد**، **تغير** أو **غير مستخدمة** لرؤية متى حدث التغيير
* اذهب إلى تفاصيل نقطة النهاية المُعدلة لرؤية سبب هذه الحالة: البارامترات **الجديدة** والبارامترات التي حصلت على حالة **غير مستخدمة** - مرر الماوس فوق العلامات لرؤية متى حدث تغيير البارامتر
* تُعرض العدادات لجميع أنواع التغييرات خلال آخر 7 أيام في [لوحة معلومات اكتشاف واجهة برمجة التطبيقات](dashboard.md).


## تصفية التغييرات في واجهة برمجة التطبيقات

في قسم **اكتشاف واجهة برمجة التطبيقات**، يُبرز استخدام مرشح **التغييرات منذ** نقاط النهاية التي تغيرت خلال الفترة المختارة فقط، ولكن لا يستبعد نقاط النهاية بدون تغييرات.

يعمل مرشح **التغييرات في واجهة برمجة التطبيقات** بشكل مختلف ويعرض **فقط** نقاط النهاية التي تغيرت خلال الفترة المختارة ويستبعد جميع البقية.

<a name="example"></a>دعونا ننظر إلى المثال: لنفترض أن واجهة برمجة التطبيقات الخاصة بك اليوم لديها 10 نقاط نهاية (كان هناك 12، ولكن تم تمييز 3 منهم على أنهم غير مستخدمين منذ 10 أيام). تم إضافة 1 من هذه ال10 أمس، 2 منهم تغيرت بارامتراتهم قبل 5 أيام لواحدة وقبل 10 أيام للأخرى:

* في كل مرة تفتح فيها قسم **اكتشاف واجهة برمجة التطبيقات** اليوم، سينتقل مرشح **التغييرات منذ** إلى حالة `الأسبوع الماضي`؛ ستعرض الصفحة 10 نقاط نهاية، في عمود **التغييرات** سيكون لواحدة منهم علامة **جديد**، ولواحدة - علامة **تغير**.
* قم بتحويل **التغييرات منذ** إلى `آخر أسبوعين` - سيتم عرض 13 نقطة نهاية، في عمود **التغييرات** سيكون لواحدة منهم علامة **جديد**، ولاثنتين - علامة **تغير**، ولثلاثة - علامة **غير مستخدمة**.
* ضبط **التغييرات في واجهة برمجة التطبيقات** على `نقاط النهاية غير المستخدمة` - سيتم عرض 3 نقاط نهاية، جميعها بعلامة **غير مستخدمة**.
* غير **التغييرات في واجهة برمجة التطبيقات** إلى `نقاط النهاية الجديدة + نقاط النهاية غير المستخدمة` - سيتم عرض 4 نقاط نهاية، 3 بعلامة **غير مستخدمة**، وواحدة بعلامة **جديد**.
* قم بالتحويل **التغييرات منذ** إلى الوراء إلى `الأسبوع الماضي` - سيتم عرض نقطة نهاية واحدة، ستكون لها علامة **جديد**.

## الحصول على إشعارات

للحصول على إشعارات فورية حول التغييرات في واجهة برمجة التطبيقات إلى بريدك الإلكتروني أو مراسلك، قم بتكوين [المشغلات](../user-guides/triggers/triggers.md) بشرط **التغييرات في واجهة برمجة التطبيقات**.

يمكنك الحصول على رسائل حول نقاط النهاية الجديدة، المُعدلة أو غير المستخدمة أو حول جميع هذه التغييرات. يمكنك أيضًا تضييق نطاق الإشعارات حسب التطبيق أو المضيف الذي ترغب في مراقبته وحسب نوع البيانات الحساسة المقدمة.

**مثال المشغل: إشعار حول نقاط النهاية الجديدة في Slack**

في هذا المثال، إذا تم اكتشاف نقاط نهاية جديدة لمضيف واجهة برمجة التطبيقات `example.com` بواسطة وحدة اكتشاف واجهة برمجة التطبيقات، ستتم إرسال الإشعار حول هذا إلى قناة Slack الخاصة بك المُعدّة.

![التغيير في واجهة برمجة التطبيقات المشغل](../images/user-guides/triggers/trigger-example-changes-in-api.png)

**لتجربة المشغل:**

1. انتقل إلى وحدة تحكم Wallarm → **التكاملات** في السحابة [الأمريكية](https://us1.my.wallarm.com/integrations/) أو [الأوروبية](https://my.wallarm.com/integrations/)، وقم بتكوين [التكامل مع Slack](../user-guides/settings/integrations/slack.md).
1. في قسم **المشغلات**، أنشئ مشغل كما هو موضح أعلاه.
1. أرسل عدة طلبات إلى نقطة النهاية `example.com/users` للحصول على رد `200` (`OK`).
1. في قسم **اكتشاف واجهة برمجة التطبيقات**، تأكد من إضافة نقطة النهاية الخاصة بك بعلامة **جديد**.
1. تحقق من الرسائل في قناة Slack الخاصة بك مثل:
    ```
    [wallarm] تم اكتشاف نقطة نهاية جديدة في واجهة برمجة التطبيقات الخاصة بك

    نوع الإشعار: api_structure_changed

    تم اكتشاف نقطة النهاية الجديدة GET example.com/users في واجهة برمجة التطبيقات ال