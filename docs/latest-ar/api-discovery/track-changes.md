# تتبع التغييرات في الواجهة البرمجية للتطبيق <a href="../../about-wallarm/subscription-plans/#subscription-plans"><img src="../../images/api-security-tag.svg" style="border: none;"></a>

إذا حدثت تغييرات في الواجهة البرمجية للتطبيق، فإن [اكتشاف الواجهة البرمجية](overview.md) يُحدث الجرد الذي تم بناؤه للواجهة البرمجية، ويسلط الضوء على التغييرات ويزودك بمعلومات عن موعد وماهية التغييرات. بالإضافة إلى ذلك، يمكنك ضبط الإشعارات لجميع التغييرات أو بعضها.

![اكتشاف الواجهة البرمجية - تتبع التغييرات](../images/about-wallarm-waf/api-discovery/api-discovery-track-changes.png)

قد تضم الشركة فرق عمل متعددة، ولغات برمجة متفرقة، ومجموعة متنوعة من إطارات العمل. لذا، يمكن أن تأتي التغييرات إلى الواجهة البرمجية في أي وقت من مصادر مختلفة مما يجعل من الصعب التحكم بها. بالنسبة لمسؤولي الأمان، من المهم اكتشاف التغييرات في أسرع وقت ممكن وتحليلها. إذا تم تجاهل هذه التغييرات، فقد تحمل بعض المخاطر، على سبيل المثال:

* يمكن لفريق التطوير أن يبدأ باستخدام مكتبة من طرف ثالث مع واجهة برمجية خاصة بها ولا يُخطرون متخصصي الأمان بذلك. بهذه الطريقة، تحصل الشركة على نقاط نهاية غير مراقبة وغير مفحوصة بحثًا عن الثغرات الأمنية. ويمكن أن تكون اتجاهات هجوم محتملة.
* تبدأ بيانات الهوية الشخصية (PII) بالانتقال إلى نقطة النهاية. يمكن أن يؤدي النقل غير المخطط لبيانات الهوية الشخصية إلى انتهاك الامتثال لمتطلبات المنظمين، وكذلك إلى مخاطر سمعة.
* نقطة النهاية المهمة لمنطق العمل (على سبيل المثال، `/login`, `/order/{order_id}/payment/`) لم تعد تُستدعى.
* تبدأ بيانات أخرى لا ينبغي نقلها، على سبيل المثال `is_admin` (شخص ما يصل إلى نقطة النهاية ويحاول القيام بذلك بحقوق المسؤول) بالانتقال إلى نقطة النهاية.

## تسليط الضوء على التغييرات في الواجهة البرمجية للتطبيق

في كل مرة تفتح فيها قسم **اكتشاف الواجهة البرمجية**، يتم تغيير حالة فلتر **التغييرات منذ** إلى `الأسبوع الماضي`، مما يعني أن التغييرات التي حدثت خلال الأسبوع الماضي يتم تسليط الضوء عليها. لتغيير الفترة الزمنية، قم بإعادة تعيين التواريخ في فلتر **التغييرات منذ**.

في قائمة نقاط النهاية، تبرز العلامات التالية التغييرات في الواجهة البرمجية للتطبيق:

* **جديد** لنقاط النهاية المضافة إلى القائمة خلال الفترة.
* **تم التغيير** لنقاط النهاية التي تم اكتشاف باراميترات جديدة لها أو باراميترات حصلت على حالة `غير مستخدم` خلال الفترة. في تفاصيل نقطة النهاية، ستكون لهذه الباراميترات علامة مقابلة.

    * يحصل الباراميتر على حالة `جديد` إذا تم اكتشافه خلال الفترة.
    * يحصل الباراميتر على حالة `غير مستخدم` إذا لم ينقل أي بيانات لمدة 7 أيام.
    * إذا نقل الباراميتر في حالة `غير مستخدم` بيانات مرة أخرى لاحقًا سيفقد حالة `غير مستخدم`.

* **غير مستخدم** لنقاط النهاية التي حصلت على حالة `غير مستخدم` خلال الفترة.

    * تحصل نقطة النهاية على حالة `غير مستخدم` إذا لم يتم الطلب عليها (مع الرمز 200 في الاستجابة) لمدة 7 أيام.
    * إذا تم الطلب على نقطة النهاية في حالة `غير مستخدم` مرة أخرى لاحقًا (مع الرمز 200 في الاستجابة) ستفقد حالة `غير مستخدم`.

لاحظ أنه مهما كانت الفترة المحددة، إذا لم يتم تسليط الضوء على أي شيء بعلامة **جديد**، **تم التغيير** أو **غير مستخدم**، فهذا يعني أنه لا توجد تغييرات في الواجهة البرمجية للتطبيق لتلك الفترة.

![اكتشاف الواجهة البرمجية - تتبع التغييرات](../images/about-wallarm-waf/api-discovery/api-discovery-track-changes.png)

نصائح سريعة لنقاط النهاية المعلمة كمارقة:

* مرر مؤشر الفأرة فوق علامات **جديد**، **تم التغيير** أو **غير مستخدم** لرؤية متى حدث التغيير
* انتقل إلى تفاصيل نقطة النهاية **المتغيرة** لرؤية سبب هذه الحالة: باراميترات **جديدة** وباراميترات حصلت على حالة **غير مستخدم** - مرر مؤشر الفأرة فوق العلامات لرؤية متى حدث تغيير الباراميتر
* يتم عرض العدادات لجميع أنواع التغييرات لآخر 7 أيام في [لوحة تحكم اكتشاف الواجهة البرمجية](dashboard.md).

## تصفية التغييرات في الواجهة البرمجية للتطبيق

في قسم **اكتشاف الواجهة البرمجية**، يؤدي استخدام فلتر **التغييرات منذ** إلى تسليط الضوء فقط على نقاط النهاية التي تغيرت خلال الفترة المحددة، ولكنه لا يستبعد نقاط النهاية بدون تغييرات.

فلتر **التغييرات في الواجهة البرمجية للتطبيق** يعمل بشكل مختلف ويظهر **فقط** نقاط النهاية التي تغيرت خلال الفترة المحددة ويستبعد جميع البقية.

<a name="example"></a>لنأخذ المثال التالي: لنفترض أن الواجهة البرمجية للتطبيق لديك اليوم تحتوي على 10 نقاط نهاية (كان هناك 12، ولكن تم وسم 3 منها بأنها غير مستخدمة قبل 10 أيام). تم إضافة واحدة من هذه الـ 10 نقاط النهاية أمس، وحدثت تغييرات في باراميتراتهما خلال 5 أيام لواحدة و10 أيام للأخرى:

* كل مرة تفتح فيها قسم **اكتشاف الواجهة البرمجية** اليوم، سيتغير فلتر **التغييرات منذ** إلى حالة `الأسبوع الماضي`؛ ستُعرض الصفحة 10 نقاط نهاية، في عمود **التغييرات** واحدة منها ستحمل علامة **جديد**، وواحدة - علامة **تم التغيير**.
* اضبط فلتر **التغييرات منذ** على `آخر أسبوعين` - سيتم عرض 13 نقطة نهاية، في عمود **التغييرات** واحدة منها ستحمل علامة **جديد**، واثنتان - علامة **تم التغيير**، وثلاثة - علامة **غير مستخدم**.
* ضبط **التغييرات في الواجهة البرمجية للتطبيق** على `نقاط النهاية غير المستخدمة` - سيتم عرض 3 نقاط نهاية، جميعها ذات علامة **غير مستخدم**.
* تغيير **التغييرات في الواجهة البرمجية للتطبيق** إلى `نقاط النهاية الجديدة + نقاط النهاية غير المستخدمة` - سيتم عرض 4 نقاط نهاية، 3 ذات علامة **غير مستخدم**، وواحدة ذات علامة **جديد**.
* اضبط فلتر **التغييرات منذ** مرة أخرى على `الأسبوع الماضي` - سيتم عرض نقطة نهاية واحدة، وستحمل علامة **جديد**.

## الحصول على الإشعارات

للحصول على إشعارات فورية حول التغييرات في الواجهة البرمجية للتطبيق إلى بريدك الإلكتروني أو برنامج المراسلة الخاص بك، قم بتكوين [المشغلات](../user-guides/triggers/triggers.md) مع شرط **التغييرات في الواجهة البرمجية للتطبيق**.

يمكنك الحصول على رسائل حول نقاط النهاية الجديدة، أو المتغيرة، أو غير المستخدمة، أو عن جميع هذه التغييرات. يمكنك أيضاً تقييد الإشعارات بواسطة التطبيق أو المضيف الذي تريد مراقبته وبواسطة نوع البيانات الحساسة المقدمة.

**مثال المشغل: الإشعار عن نقاط النهاية الجديدة في Slack**

في هذا المثال، إذا تم اكتشاف نقاط نهاية جديدة لمضيف واجهة برمجية التطبيق `example.com` بواسطة وحدة اكتشاف الواجهة البرمجية، سيتم إرسال الإشعار عن ذلك إلى قناة Slack المكونة لديك.

![تغييرات في الواجهة البرمجية للتطبيق المشغل](../images/user-guides/triggers/trigger-example-changes-in-api.png)

**لتجربة المشغل:**

1. اذهب إلى وحدة تحكم Wallarm → **التكاملات** في [السحابة الأمريكية](https://us1.my.wallarm.com/integrations/) أو [السحابة الأوروبية](https://my.wallarm.com/integrations/)، وقم بتكوين [التكامل مع Slack](../user-guides/settings/integrations/slack.md).
1. في قسم **المشغلات**، أنشئ مشغلاً كما هو موضح أعلاه.
1. أرسل عدة طلبات إلى نقطة النهاية `example.com/users` للحصول على الاستجابة `200` (`موافق`).
1. في قسم **اكتشاف الواجهة البرمجية**، تحقق من أن نقطة النهاية الخاصة بك تمت إضافتها بعلامة **جديد**.
1. تحقق من الرسائل في قناة Slack الخاصة بك مثل:
    ```
    [wallarm] تم اكتشاف نقطة نهاية جديدة في واجهة برمجية التطبيق ال