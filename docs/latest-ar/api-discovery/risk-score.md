# درجة مخاطر النهاية <a href="../../about-wallarm/subscription-plans/#subscription-plans"><img src="../../images/api-security-tag.svg" style="border: none;"></a>

يقوم [اكتشاف الواجهة البرمجية التطبيقية (API Discovery)](overview.md) بحساب **درجة المخاطر** تلقائيًا لكل نهاية في جرد API الخاص بك. تتيح لك درجة المخاطر فهم النهايات التي من المرجح أن تكون هدفًا لهجوم وبالتالي يجب أن تكون محور جهودك الأمنية.

## عوامل درجة المخاطر

تتكون درجة المخاطر من عدة عوامل، يكون لكل منها وزنه الخاص عند حساب الدرجة النهائية للمخاطر. بشكل افتراضي، يُستخدم أعلى وزن من كل العوامل كدرجة مخاطر للنهاية.

| العامل | الوصف | الوزن الافتراضي |
| --- | --- | --- |
| الثغرات الأمنية النشطة | [الثغرات الأمنية النشطة](../about-wallarm/detecting-vulnerabilities.md) قد تؤدي إلى الوصول غير المصرح به إلى البيانات أو تلفها. | 9 |
| تحتمل الضعف أمام BOLA | وجود [أجزاء مسار متغيرة](exploring.md#variability-in-endpoints)، مثل مُعرِّفات المستخدم، مثلاً `/api/articles/author/{parameter_X}`. يمكن للمهاجمين التلاعب بمُعرِّفات الكائن و، في حالة عدم كفاية التوثيق للطلب، إما قراءة أو تعديل البيانات الحساسة للكائن ([هجمات BOLA](../admin-en/configuration-guides/protecting-against-bola.md)). | 6 |
| البارامترات ببيانات حساسة | بدلاً من الهجوم المباشر على APIs، يمكن للمهاجمين سرقة [البيانات الحساسة](overview.md#sensitive-data-detection) واستخدامها للوصول بطريقة سلسة إلى مواردك. | 8 |
| عدد معاملات الاستعلام والجسم | يزيد عدد البارامترات من عدد اتجاهات الهجوم. | 6 |
| يقبل كائنات XML / JSON | قد يستخدم المهاجمون كائنات XML أو JSON المرسلة في الطلبات لنقل الكيانات الخارجية الضارة لـ XML والحقن إلى الخادم. | 6 |
| يسمح برفع الملفات إلى الخادم | غالبًا ما تكون النهايات هدفًا لهجمات [تنفيذ الكود عن بُعد (RCE)](../attacks-vulns-list.md#remote-code-execution-rce)، حيث يتم رفع الملفات ذات الكود الضار إلى خادم. لتأمين هذه النهايات، يجب التحقق بشكل صحيح من امتدادات الملفات المرفوعة ومحتوياتها كما هو موصى به بواسطة [ورقة الغش OWASP](https://cheatsheetseries.owasp.org/cheatsheets/File_Upload_Cheat_Sheet.html). | 6 |

لتكييف تقدير درجة المخاطر تحت فهمك لأهمية العوامل، يمكنك [تكوين](#customizing-risk-score-calculation) وزن كل عامل في حساب درجة المخاطر وطريقة الحساب.

## مستويات درجة المخاطر

قد تكون درجة المخاطر من `1` (الأدنى) إلى `10` (الأعلى):

| القيمة | مستوى المخاطر | اللون |
| --------- | ----------- | --------- |
| من 1 إلى 3 | منخفض | رمادي |
| من 4 إلى 7 | متوسط | برتقالي |
| من 8 إلى 10 | عالي | أحمر |

* `1` يعني عدم وجود عوامل مخاطر لهذه النهاية.
* درجة المخاطر لا تُعرض (`غير متاح`) للنهايات غير المستخدمة.
* الفرز حسب درجة المخاطر في عمود **المخاطر**.
* الفلترة `عالي`، `متوسط` أو `منخفض` باستخدام فلتر **درجة المخاطر**.

لفهم ما تسبب في درجة المخاطر للنهاية وكيفية تقليل المخاطر، اذهب إلى تفاصيل النهاية:

![اكتشاف API - درجة المخاطر](../images/about-wallarm-waf/api-discovery/api-discovery-risk-score.png)

يمكنك أيضًا الحصول على ملخص حول APIs حسب مستويات درجة المخاطر في **لوحات التحكم** → **اكتشاف الواجهة البرمجية التطبيقية** في سحابة [الولايات المتحدة](https://us1.my.wallarm.com/dashboard-api-discovery) أو [الاتحاد الأوروبي](https://my.wallarm.com/dashboard-api-discovery).

## تخصيص حساب درجة المخاطر

يمكنك تكوين وزن كل عامل في حساب درجة المخاطر وطريقة الحساب.

لتغيير طريقة حساب درجة المخاطر:

1. اضغط على زر **تكوين اكتشاف الواجهة البرمجية التطبيقية** في قسم **اكتشاف الواجهة البرمجية التطبيقية**.
1. انتقل إلى علامة التبويب **تسجيل درجة المخاطر**.
1. اختر طريقة الحساب: الوزن الأعلى أو المتوسط.
1. إذا لزم الأمر، عطل العوامل التي لا تريد أن تؤثر على درجة المخاطر.
1. حدد الأوزان للمتبقية.

    ![اكتشاف API - إعداد درجة المخاطر](../images/about-wallarm-waf/api-discovery/api-discovery-risk-score-setup.png)

1. احفظ التغييرات. سيعيد Wallarm حساب درجة المخاطر لنهاياتك وفقًا للإعدادات الجديدة في غضون عدة دقائق.