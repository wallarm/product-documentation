# العمل مع المحفزات

المحفزات هي أدوات تُستخدم لضبط استجابة Wallarm لأحداث مختلفة. تجمع المحفزات عددًا كبيرًا من الأحداث التي يمكن للنظام الاستجابة لها مع مجموعة متنوعة من الاستجابات المحتملة. يسمح هذا النهج الشبيه بالمُنشئ بتهيئة سلوكيات معقدة تتناسب مع الاحتياجات الأمنية الفريدة لشركتك.

يتم تهيئة المحفزات في قسم **المحفزات** في السحاب الإلكتروني لـ[US](https://us1.my.wallarm.com/triggers) أو[EU](https://my.wallarm.com/triggers).

![قسم تهيئة المحفزات](../../images/user-guides/triggers/triggers-section.png)

## كيف تعمل

يتكون كل محفز من المكونات التالية التي يمكنك تهيئتها:

* **الشرط**: حدث يجب أن يستجيب له Wallarm. على سبيل المثال: الحصول على عدد معين من الهجمات، عنوان IP قائمة الحظر، وإضافة مستخدم جديد إلى الحساب.
* [**الفلاتر**](#understanding-filters): تفاصيل الشرط. على سبيل المثال: إذا كان الشرط هو "أكثر من 10,000 هجوم في اليوم"، ثم قم بضبط فلتر **النوع** إلى "SQLi" و**حالة الرد** إلى "200" وبالنسبة للمحفز سيعني ذلك "التصرف إذا كان هناك أكثر من 10,000 هجوم SQLi في اليوم الذي تلقى ردًا 200".
* **الرد**: الإجراء الذي يجب أداؤه إذا تم استيفاء الشرط والفلاتر المحددة. على سبيل المثال: إرسال الإخطار إلى Slack أو نظام آخر مُهيأ كـ[تكامل](../settings/integrations/integrations-intro.md)، حظر عنوان IP، أو تمييز الطلبات كهجوم بالقوة الغاشمة.

## ما يمكنك فعله بالمحفزات

باستخدام المحفزات، يمكنك:

* توفير تدابير الحماية التالية لتطبيقاتك وواجهات برمجة التطبيقات:

    * [الحماية من مرتكبي الهجمات المتعددة](../../admin-en/configuration-guides/protecting-with-thresholds.md)
    * [الحماية من القوة الغاشمة](../../admin-en/configuration-guides/protecting-against-bruteforce.md)
    * [الحماية من التصفح القسري](../../admin-en/configuration-guides/protecting-against-forcedbrowsing.md)
    * [حماية BOLA](../../admin-en/configuration-guides/protecting-against-bola-trigger.md)

* إعداد تنبيهات موسعة لـ[تكاملات](../../user-guides/settings/integrations/integrations-intro.md) مختلفة.
* تحسين تمثيل الهجمات والحوادث من خلال [تجميع الضربات](../../user-guides/events/analyze-attack.md#grouping-of-hits).

## فهم الفلاتر

تُستخدم الفلاتر لتفصيل [الشروط](#how-it-works). على سبيل المثال، يمكنك ضبط الاستجابات لهجمات من أنواع معينة، مثل الهجمات بالقوة الغاشمة، حقن SQL وغيرها. يمكنك إضافة فلتر واحد أو أكثر في واجهة استخدام Wallarm Console وضبط قيمها.

![الفلاتر المتاحة](../../images/user-guides/triggers/trigger-filters.png)

الفلاتر المتاحة هي:

* **URI** (فقط للشروط **القوة الغاشمة**، **التصفح القسري** و**BOLA**): URI كامل الذي تم إرسال الطلب إليه. يمكن تهيئة URI من خلال [منشئ URI](../../user-guides/rules/rules.md#uri-constructor) أو[نموذج التعديل المتقدم](../../user-guides/rules/rules.md#advanced-edit-form).
* **النوع** هو [نوع](../../attacks-vulns-list.md) الهجوم المكتشف في الطلب أو نوع الضعف الذي يستهدفه الطلب.
* **التطبيق** هو [التطبيق](../settings/applications.md) الذي يستقبل الطلب.
* **IP** هو عنوان IP الذي يتم إرسال الطلب منه.

    الفلتر يتوقع IPs فردية فقط، لا يسمح بالشبكات الفرعية، المواقع وأنواع المصادر.
* **النطاق** هو النطاق الذي يستقبل الطلب.
* **حالة الرد** هو رمز الرد الذي يتم إرجاعه للطلب.
* **الهدف** هو جزء من بنية التطبيق الذي يتم توجيه الهجوم إليه أو الذي يتم فيه اكتشاف الحادث. يمكن أن يأخذ القيم التالية: `Server`, `Client`, `Database`.
* **دور المستخدم** هو [دور](../../user-guides/settings/users.md#user-roles) المستخدم المضاف. يمكن أن يأخذ القيم التالية: `Deploy`, `Analyst`, `Administrator`, `Read only`, `API developer`، وإذا تم تمكين ميزة[العميل المتعدد](../../installation/multi-tenant/overview.md) - `Global Administrator`, `Global Analyst`, `Global Read Only`.

## المحفزات الافتراضية

تتميز الحسابات الشركاتية الجديدة بالمحفزات الافتراضية (المُهيأة مسبقًا) التالية:

* تجميع الضربات الصادرة من نفس عنوان IP في هجوم واحد

    يجمع المحفز جميع [الضربات](../../glossary-en.md#hit) المرسلة من نفس عنوان IP في هجوم واحد في قائمة الأحداث. يعمل هذا على تحسين قائمة الأحداث ويمكّن من تحليل الهجوم بشكل أسرع.

    يتم إطلاق هذا المحفز عندما يُنشئ عنوان IP واحد أكثر من 50 ضربة خلال 15 دقيقة. يتم تجميع الضربات المرسلة بعد تجاوز العتبة فقط في الهجوم.

    يمكن أن تحتوي الضربات على أنواع هجمات مختلفة، أحمال ضارة وعناوين URL. سيتم وسم هذه معايير الهجوم بعلامة `[multiple]` في قائمة الأحداث.

    بسبب قيم معايير الضربات المجمعة المختلفة، ستكون زر[وضع علامة كإيجابية خاطئة](../events/false-attack.md#mark-an-attack-as-a-false-positive) غير متاحة للهجوم بأكمله، لكن سيظل بإمكانك وضع علامة على بعض الضربات كإيجابيات خاطئة.[التحقق النشط من الهجوم](../../about-wallarm/detecting-vulnerabilities.md#active-threat-verification) سيكون أيضًا غير متاح.
    
    لا تُعتبر الضربات مع أنواع هجمات القوة الغاشمة، التصفح القسري، تجاوز حد الموارد، قنبلة البيانات، أو التصحيح الافتراضي في هذا المحفز.
* وضع IP في القائمة الرمادية لمدة ساعة عندما يُنشئ أكثر من 3 [أحمال ضارة](../../glossary-en.md#malicious-payload) مختلفة خلال ساعة واحدة

    [القائمة الرمادية](../ip-lists/overview.md) هي قائمة بعناوين IP المشبوهة التي يتم معالجتها من قِبل العقدة كالتالي: إذا أصدرت IP من القائمة الرمادية طلبات ضارة، تقوم العقدة بحظرها بينما تسمح بالطلبات المشروعة. على عكس القائمة الرمادية، تُشير [القائمة السوداء](../ip-lists/overview.md) إلى عناوين IP التي لا يُسمح لها بالوصول إلى تطبيقاتك على الإطلاق - تحظر العقدة حتى الحركة المرورية المشروعة الصادرة عن مصادر مدرجة في القائمة السوداء. تعد إدراج IP في القائمة الرمادية إحدى الخيارات الهادفة إلى تقليل [الإيجابيات الخاطئة](../../about-wallarm/protecting-against-attacks.md#false-positives).

    يُطلق المحفز في أي وضعية تصفية عقدة، بحيث سيتم إدراج IPs في القائمة الرمادية بغض النظر عن وضعية العقدة.

    ومع ذلك، تقوم العقدة بتحليل القائمة الرمادية فقط في وضعية **الحظر الآمن**. لحظر الطلبات الضارة الصادرة عن IPs في القائمة الرمادية، قم بتغيير وضعية العقدة[إلى وضعية الحظر الآمن](../../admin-en/configure-wallarm-mode.md#available-filtration-modes) مع التعرف على ميزاتها أولًا.

    لا تُعتبر الضربات مع أنواع هجمات القوة الغاشمة، التصفح القسري، تجاوز حد الموارد، قنبلة البيانات، أو التصحيح الافتراضي في هذا المحفز.

يمكنك تعطيل أي محفز افتراضي مؤقتًا. يمكنك أيضًا تعديل السلوك الذي يوفره المحفز الافتراضي - للقيام بذلك، قم بإنشاء محفزاتك المخصصة من نفس النوع. يؤدي إنشاء أي محفز مخصص إلى حذف الافتراضي، إذا قمت بحذف جميع محفزاتك المخصصة، يتم استعادة الافتراضي.

## تعطيل وحذف المحفزات

* لوقف إرسال الإخطارات والاستجابات للأحداث مؤقتًا، يمكنك تعطيل المحفز. سيتم عرض المحفز المعطل في القوائم مع **الكل** و**المعطل**. لإعادة تمكين إرسال الإخطارات والاستجابات للأحداث، يُستخدم خيار **تمكين**.
* لوقف إرسال الإخطارات والاستجابات للأحداث بشكل دائم، يمكنك حذف المحفز. لا يمكن التراجع عن حذف المحفز. سيتم إزالة المحفز بشكل دائم من قائمة المحفزات.

لتعطيل أو حذف المحفز، يرجى اختيار الخيار المناسب من قائمة المحفز وتأكيد العمل إذا لزم الأمر.