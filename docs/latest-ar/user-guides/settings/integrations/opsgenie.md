# Opsgenie

[Opsgenie](https://www.atlassian.com/software/opsgenie) هو أداة إدارة الحوادث والتنبيه من Atlassian. يمكنك ضبط Wallarm لإرسال التنبيهات إلى Opsgenie.

## إعداد التكامل

في [واجهة مستخدم Opsgenie](https://app.opsgenie.com/teams/list):

1. اذهب إلى فريقك ➝ **التكاملات**.
2. انقر على زر **إضافة تكامل** واختر **API**.
3. أدخل اسمًا للتكامل الجديد وانقر على **حفظ التكامل**.
4. نسخ المفتاح API المقدم.

في واجهة مستخدم Wallarm:

1. افتح قسم **التكاملات**.
1. انقر على كتلة **Opsgenie** أو انقر على زر **إضافة تكامل** واختر **Opsgenie**.
1. أدخل اسم التكامل.
1. الصق المفتاح API المنسوخ في حقل **مفتاح API**.
1. إذا كنت تستخدم [نسخة الاتحاد الأوروبي](https://docs.opsgenie.com/docs/european-service-region) من Opsgenie، حدد نقطة نهاية API Opsgenie المناسبة من القائمة. بشكل افتراضي، يتم ضبط نقطة نهاية نسخة الولايات المتحدة.
1. اختر أنواع الأحداث لتشغيل الإشعارات.

    ![تكامل Opsgenie](../../../images/user-guides/settings/integrations/add-opsgenie-integration.png)

    التفاصيل عن الأحداث المتاحة:
      
    --8<-- "../include/integrations/events-for-integrations.md"

1. انقر على **اختبار التكامل** للتحقق من صحة الإعداد، توافر Wallarm Cloud، وتنسيق الإشعار.

    سيتم إرسال الإشعارات الاختبارية ببادئة `[رسالة الاختبار]`:

    ![رسالة Opsgenie الاختبارية](../../../images/user-guides/settings/integrations/test-opsgenie-new-vuln.png)

1. انقر على **إضافة تكامل**.

## إعداد تنبيهات إضافية

--8<-- "../include/integrations/integrations-trigger-setup.md"

### مثال: إشعار Opsgenie إذا تم اكتشاف حادثين أو أكثر في ثانية واحدة

إذا تم اكتشاف حادثين أو أكثر مع خادم التطبيق أو قاعدة البيانات في ثانية واحدة، سيتم إرسال الإشعار عن هذا الحدث إلى Opsgenie.

![مثال على قاعدة ترسل البيانات إلى Splunk](../../../images/user-guides/triggers/trigger-example3.png)

**لتجربة القاعدة**، يلزم إرسال الهجوم الذي يستغل ثغرة نشطة للمورد المحمي. يعرض قسم **الثغرات** في وحدة تحكم Wallarm الثغرات النشطة المكتشفة في تطبيقاتك وأمثلة الهجمات التي تستغل هذه الثغرات.

إذا تم إرسال مثال الهجوم إلى المورد المحمي، سيتم تسجيل Wallarm للحادث. سيؤدي تسجيل حادثين أو أكثر إلى تشغيل إرسال الإشعار التالي إلى Opsgenie:

```
[Wallarm] القاعدة: تجاوز عدد الحوادث العتبة

نوع الإشعار: incidents_exceeded

تجاوز عدد الحوادث المكتشفة 1 في ثانية واحدة.
تم تشغيل هذا الإشعار بواسطة قاعدة "إشعار حول الحوادث".

شروط إضافية للقاعدة:
الهدف: الخادم، قاعدة البيانات.

عرض الأحداث:
https://my.wallarm.com/attacks?q=incidents&time_from=XXXXXXXXXX&time_to=XXXXXXXXXX

العميل: TestCompany
السحابة: EU
```

* `إشعار حول الحوادث` هو اسم القاعدة
* `TestCompany` هو اسم حساب شركتك في وحدة تحكم Wallarm
* `EU` هو السحاب الذي تم تسجيل حساب شركتك به

!!! info "حماية المورد من استغلال الثغرة النشطة"
    لحماية المورد من استغلال الثغرة النشطة، نوصي بتصحيح الثغرة في الوقت المناسب. إذا لم يكن من الممكن تصحيح الثغرة من جانب التطبيق، يرجى ضبط [تصحيح افتراضي](../../rules/vpatch-rule.md) لمنع الهجمات التي تستغل هذه الثغرة.

## تعطيل وحذف التكامل

--8<-- "../include/integrations/integrations-disable-delete.md"

## عدم توفر النظام ومعلمات التكامل الخاطئة

--8<-- "../include/integrations/integration-not-working.md"