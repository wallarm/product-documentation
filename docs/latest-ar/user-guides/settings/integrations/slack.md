# Slack

[Slack](https://slack.com/) هو منصة تعاون ورسائل جماعية مستندة إلى السحابة ومستخدمة على نطاق واسع. صُممت لتيسير التواصل والتعاون داخل المنظمات من خلال توفير مساحة مركزية للفرق لتبادل الرسائل، مشاركة الملفات، والتكامل مع أدوات وخدمات أخرى. يمكنك ضبط Wallarm لإرسال الإشعارات إلى قناة أو قنوات Slack الخاصة بك. إذا كنت تود إرسال الإشعارات إلى قنوات أو حسابات Slack مختلفة عدة، قم بإنشاء عدة تكاملات Slack.

## إعداد التكامل

1. افتح قسم **التكاملات**.
1. انقر على كتلة **Slack** أو انقر على زر **إضافة تكامل** واختر **Slack**.
1. أدخل اسم التكامل.
1. افتح [إعدادات Webhook في Slack](https://my.slack.com/services/new/incoming-webhook/) وأضف Webhook جديداً مختاراً القناة لنشر الرسائل إليها.
1. انسخ عنوان URL الخاص بـ Webhook والصق القيمة في حقل **Webhook URL** في واجهة مستخدم Wallarm.
1. اختر أنواع الأحداث لتشغيل الإشعارات.

    ![تكامل Slack](../../../images/user-guides/settings/integrations/add-slack-integration.png)
    
    تفاصيل حول الأحداث المتاحة:
      
    --8<-- "../include/integrations/events-for-integrations.md"

1. انقر على **اختبار التكامل** للتحقق من صحة التكوين، توفر سحابة Wallarm، وصيغة الإشعار.

    سيتم إرسال الإشعارات التجريبية بالبادئة `[رسالة تجريبية]`:

    ```
    [رسالة تجريبية] [شريك تجريبي] تغير محيط الشبكة

    نوع الإشعار: new_scope_object_ips

    تم اكتشاف عناوين IP جديدة في محيط الشبكة:
    8.8.8.8

    العميل: TestCompany
    السحابة: EU
    ```

1. انقر على **إضافة تكامل**.

## إعداد تنبيهات إضافية

--8<-- "../include/integrations/integrations-trigger-setup.md"

### مثال: إشعار Slack إذا تم الكشف عن ضربتين من SQLi أو أكثر في دقيقة واحدة

إذا تم إرسال ضربتين من SQLi أو أكثر إلى المورد المحمي، فسيتم إرسال إشعار حول هذا الحدث إلى قناة Slack.

![مثال على مشغل إرسال الإشعار إلى Slack](../../../images/user-guides/triggers/trigger-example1.png)

**لتجربة المشغل:**

أرسل الطلبات التالية إلى المورد المحمي:

```bash
curl 'http://localhost/?id=1%27%20UNION%20SELECT%20username,%20password%20FROM%20users--<script>prompt(1)</script>'
curl 'http://localhost/?id=1%27%20select%20version();'
```
افتح قناة Slack وتحقق من استلام الإشعار التالي من المستخدم **wallarm**:

```
[Wallarm] مشغل: تجاوز عدد الضربات المكتشفة العتبة

نوع الإشعار: attacks_exceeded

تجاوز عدد الضربات المكتشفة 1 في دقيقة واحدة.
تم تشغيل هذا الإشعار بواسطة مشغل "إشعار حول ضربات SQLi".

فقرات المشغل الإضافية:
نوع الهجوم: SQLi.

عرض الأحداث:
https://my.wallarm.com/attacks?q=attacks&time_from=XXXXXXXXXX&time_to=XXXXXXXXXX

العميل: TestCompany
السحابة: EU
```

* `إشعار حول ضربات SQLi` هو اسم المشغل
* `TestCompany` هو اسم حساب شركتك في وحدة تحكم Wallarm
* `EU` هي سحابة Wallarm حيث يُسجل حساب شركتك

### مثال: إشعار Slack والبريد الإلكتروني إذا تم إضافة مستخدم جديد إلى الحساب

إذا تم إضافة مستخدم جديد بدور **المدير** أو **المحلل** إلى حساب الشركة في وحدة تحكم Wallarm، سيتم إرسال إشعار حول هذا الحدث إلى عنوان البريد الإلكتروني المحدد في التكامل وإلى قناة Slack.

![مثال على مشغل إرسال الإشعار إلى Slack وعبر البريد الإلكتروني](../../../images/user-guides/triggers/trigger-example2.png)

**لتجربة المشغل:**

1. افتح وحدة تحكم Wallarm → **الإعدادات** → **المستخدمون** وأضف مستخدماً جديداً. على سبيل المثال:

    ![مستخدم مُضاف](../../../images/user-guides/settings/integrations/webhook-examples/adding-user.png)
2. افتح صندوق البريد الوارد الخاص بك وتحقق من استلام الرسالة التالية:

    ![بريد إلكتروني حول إضافة مستخدم جديد](../../../images/user-guides/triggers/test-new-user-email-message.png)
3. افتح قناة Slack وتحقق من استلام الإشعار التالي من المستخدم **wallarm**:

    ```
    [Wallarm] مشغل: تم إضافة مستخدم جديد إلى حساب الشركة
    
    نوع الإشعار: create_user
    
    تم إضافة مستخدم جديد جون سميث <johnsmith@example.com> بدور المحلل إلى حساب الشركة بواسطة جون دو <johndoe@example.com>.
    تم تشغيل هذا الإشعار بواسطة مشغل "مستخدم مُضاف".

    العميل: TestCompany
    السحابة: EU
    ```

    * `جون سميث` و`johnsmith@example.com` هي معلومات حول المستخدم المُضاف
    * `المحلل` هو دور المستخدم المُضاف
    * `جون دو` و`johndoe@example.com` هي معلومات حول المستخدم الذي أضاف مستخدماً جديداً
    * `مستخدم مُضاف` هو اسم المشغل
    * `TestCompany` هو اسم حساب شركتك في وحدة تحكم Wallarm
    * `EU` هي سحابة Wallarm حيث يُسجل حساب شركتك

## تعطيل وحذف التكامل

--8<-- "../include/integrations/integrations-disable-delete.md"

## عدم توفر النظام ومعايير التكامل الغير صحيحة

--8<-- "../include/integrations/integration-not-working.md"