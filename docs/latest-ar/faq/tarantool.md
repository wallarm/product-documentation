# مشاكل تارانتول وكيفية حلها

الأقسام التالية توفر المعلومات عن الأخطاء الشائعة في تشغيل تارانتول وكيفية تصليحها.

## كيف يمكنني حل مشكلة "تجاوز حد القراءة المسبقة"؟

في ملف `/var/log/wallarm/tarantool.log` أو `/opt/wallarm/var/log/wallarm/tarantool-out.log` [حسب طريقة تنصيب العقدة](../admin-en/configure-logging.md)، قد تواجه أخطاء مثل:

```
تم الوصول لحد القراءة المسبقة، توقيف الإدخال على الاتصال fd 16، 
مثل 127.0.0.1:3313، نظير 127.0.0.1:53218
```

هذه المشكلة ليست حرجة ولكن الكثير من مثل هذه الأخطاء قد يقلل من أداء الخدمة.

لحل المشكلة:

1. اذهب إلى مجلد `/usr/share/wallarm-tarantool/init.lua` → ملف `box.cfg`.
1. قم بتعيين أحد التالي:
    * `readahead = 1*1024*1024`
    * `readahead = 8*1024*1024`

يُعرف معامل `readahead` حجم الذاكرة العازلة للقراءة المسبقة المرتبطة باتصال عميل. كلما كان الذاكرة العازلة أكبر، كان استهلاك الذاكرة لاتصال نشط أكثر وكان بالإمكان قراءة المزيد من الطلبات من الذاكرة العازلة لنظام التشغيل في مكالمة نظام واحدة. اطلع على المزيد من التفاصيل في [التوثيق](https://www.tarantool.io/en/doc/latest/reference/configuration/#cfg-networking-readahead) الخاص بتارانتول.

## كيف يمكنني حل مشكلة "تجاوز حد net_msg_max"؟

في ملف `/var/log/wallarm/tarantool.log` أو `/opt/wallarm/var/log/wallarm/tarantool-out.log` [حسب طريقة تنصيب العقدة](../admin-en/configure-logging.md)، قد تواجه أخطاء مثل:

```
2020-02-18 12:22:17.420 [26620] iproto iproto.cc:562 W> توقيف الإدخال على الاتصال fd 21، 
مثل 127.0.0.1:3313، نظير 127.0.0.1:44306، تم الوصول لحد net_msg_max
```

لحل المشكلة، زد قيمة `net_msg_max` (القيمة الافتراضية `768`):

1. اذهب إلى مجلد `/usr/share/wallarm-tarantool/init.lua` → ملف `box.cfg`.
1. زد قيمة `net_msg_max`، على سبيل المثال:

    ```
    box.cfg {
        net_msg_max = 6000
    }
    ```

لمنع تأثير الزيادة في الألياف على النظام ككل، يقيد معامل `net_msg_max` كم عدد الرسائل التي تتعامل معها الألياف. اطلع على التفاصيل حول استخدام `net_msg_max` في [التوثيق](https://www.tarantool.io/en/doc/latest/reference/configuration/#cfg-networking-net-msg-max) الخاص بتارانتول.