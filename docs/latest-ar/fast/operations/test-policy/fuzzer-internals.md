![مخطط البحث عن البايتات الشاذة][img-search-for-anomalies]

![وصف الشذوذ][img-anomaly-description]

[وثيقة-تكوين-fuzzer]:         fuzzer-configuration.md

[رابط-قسم-البايتات]:            fuzzer-configuration.md#the-payloads-section
[رابط-قسم-إيقاف-الفحص]:        fuzzer-configuration.md#the-stop-fuzzing-if-response-section


# مبادئ تشغيل Fuzzer

يفحص Fuzzer 255 *بايت شاذ*: من `0x01` إلى `0xFF`. إدراج بايت أو أكثر من هذه البايتات في نقاط الطلب قد يؤدي إلى سلوك غير طبيعي للتطبيق الهدف.

بدلاً من فحص كل بايت على حدة، يضيف Fuzzer واحدة أو أكثر من سلاسل البايتات الشاذة (*البايتات المحملة*) بطول ثابت إلى النقطة ويرسل هذا الطلب إلى التطبيق.

لتعديل النقاط المسموح بها، يقوم Fuzzer:

* بإدراج البايتات المحملة إلى:

    * بداية القيمة
    * موضع عشوائي من القيمة
    * نهاية القيمة
* يستبدل قيمة البايتات المحملة التالية:

    * قطاعات عشوائية
    * أول `M` بايتات
    * آخر `M` بايتات
    * السلسلة بالكامل

مع [تكوين Fuzzer][وثيقة-تكوين-fuzzer]، يتم تعيين حجم `M` للبايتات المحملة الموجودة في الطلب من FAST إلى التطبيق بالبايتات. ويؤثر هذا على النقاط التالية:

* عدد البايتات التي سيتم إضافتها إلى قيمة النقطة إذا تم استخدام إدراج البايتات المحملة
* عدد البايتات التي سيتم استبدالها في قيمة النقطة إذا تم استخدام استبدال البايتات المحملة
* عدد الطلبات المرسلة إلى التطبيق

إذا تم اكتشاف سلوك غير طبيعي في الاستجابة للطلب مع البايتات المحملة، فسيقوم Fuzzer بإرسال طلبات محددة لكل بايت المحملة إلى التطبيق. وبهذه الطريقة، سيكتشف Fuzzer البايتات المحددة التي تسببت في السلوك الغير طبيعي.

جميع البايتات المكتشفة مُقدمة في وصف الشذوذ:

??? info "مثال على تشغيل Fuzzer"
    لنفترض أن حجم البايتات المحملة 250 بايت [يستبدل](fuzzer-configuration.md#payloads-section) أول 250 بايت من قيمة نقطة معينة.

    في هذه الظروف، يقوم Fuzzer بإنشاء طلبين لإرسال جميع البايتات الشاذة المعروفة: واحد مع البايتات المحملة 250 بايت وآخر بالبايتات المحملة 5 بايتات.

    ستتم تعديل قيمة النقطة الأولية في الطلب الأساسي كالتالي:

    * إذا كانت القيمة أطول من 250 بايت: في البداية سيتم استبدال أول 250 بايت من القيمة بـ 250 بايت من البايتات المحملة، ثم سيتم استبدال أول 250 بايت بـ 5 بايتات من البايتات المحملة.
    * إذا كانت القيمة أقصر من 250 بايت: في البداية ستُستبدل القيمة بالكامل بـ 250 بايت من البايتات المحملة، ثم ستُستبدل القيمة بالكامل بـ 5 بايتات من البايتات المحملة.

    لنفترض أن البايتات المحملة `ABCDE` استبدلت أول 250 بايت من قيمة النقطة الطويلة `_250-bytes-long-head_qwerty` وتسببت في شذوذ. بمعنى آخر، حدث شذوذ بطلب الاختبار مع قيمة النقطة `ABCDEqwerty`.

    في هذه الحالة سيقوم Fuzzer بإنشاء 5 طلبات إضافية لفحص كل بايت مع القيم التالية للنقطة:

    * `Aqwerty`
    * `Bqwerty`
    * `Cqwerty`
    * `Dqwerty`
    * `Eqwerty`

    طلب واحد أو أكثر من هذه الطلبات سيتسبب في حدوث شذوذ مرة أخرى وسيقوم Fuzzer بتشكيل قائمة من البايتات الشاذة المكتشفة، على سبيل المثال: `A`, `C`.

 بعد ذلك، يمكنك الحصول على معلومات حول [تكوين الفحص][وثيقة-تكوين-fuzzer] ووصف القواعد التي تحدد ما إذا كان تم العثور على الشذوذ.

Fuzzer التابع لـ FAST يعالج نقطة مسموحة واحدة في كل تكرار (*الفحص*). تعتمد على [قواعد إيقاف الفحص][رابط-قسم-إيقاف-الفحص]، سيتم معالجة نقطة واحدة أو أكثر بشكل متسق.