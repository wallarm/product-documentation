# تكوين الفازر

!!! info "تفعيل الفازر"
    الفازر معطل بشكل افتراضي. يمكنك تفعيله في قسم **اختبار الفاز** في محرر السياسة على حسابك في Wallarm:

    ![تفعيل الفازر][img-enable-fuzzer]

    مفتاح تشغيل الفازر ومفتاح **استخدم DSL المخصص فقط** في قسم **الهجمات المراد اختبارها** متعارضان.

    السياسة بشكل افتراضي لا تدعم استخدام الفازر.

الإعدادات المتعلقة بالفازر وكشف الشذوذ موجودة في قسم **اختبار الفاز** في محرر السياسة.

لفحص التطبيق بحثًا عن شذوذ، يحلل FAST استجابة التطبيق لطلب يحتوي على بيانات يُحتمل أن تكون شاذة. اعتماداً على الشروط المحددة، سيتم التعرف على الطلب المرسل من قبل FAST على أنه شاذ أم لا.

محرر السياسة على حسابك في Wallarm يتيح لك:

* إضافة البيانات الحمولة بالنقر على زر **إضافة بيانات** و **إضافة بيانات أخرى**
* إضافة شروط تؤثر على عملية الفازر بالضغط على زر **إضافة شرط** و **إضافة شرط آخر**
* حذف الحمولات والشروط التي تم إنشاؤها بالنقر على رمز «—» بجانبها

![إدارة البيانات والشروط][img-manipulate-items]

عند تكوين الشروط، يمكنك استخدام المعايير التالية:

* **الحالة**: كود استجابة HTTPS
* **الطول**: طول الاستجابة بالبايتات
* **الوقت**: وقت الاستجابة بالثواني
* **الفرق في الطول**: الفرق في طول الاستجابة إلى طلبات FAST والطلب الأساسي بالبايتات
* **الفرق في الوقت**: الفرق بين وقت الاستجابة إلى طلبات FAST والطلب الأساسي بالثواني
* **الفرق في DOM**: الفرق في عدد عناصر DOM في طلبات FAST والطلب الأساسي
* **الجسم**: [تعبير عادي لغة Ruby][link-ruby-regexp]. يتم الوفاء بالشرط إذا استوفت جسم الاستجابة هذه التعبير العادي

في قسم [**إيقاف الفاز إذا كانت الاستجابة**][anchor-stop-section]، يمكن تكوين المعايير التالية أيضاً:

* **الشذوذات**: عدد الشذوذ المكتشف
* **أخطاء المهلة**: عدد المرات التي لم يتم فيها استلام استجابة من الخادم

باستخدام مجموعة من هذه المعايير، يمكنك تكوين الشروط المطلوبة التي تؤثر على عمليات الفازر (انظر أدناه).

## قسم "البيانات الحمولة"

يُستخدم هذا القسم لتكوين بيان حمولة واحد أو أكثر.

أثناء إدخال الحمولة، يتم تحديد البيانات التالية:

* حجم الحمولة من 1 إلى 255 بايت
* في أي قيمة سيتم إدراج الحمولة: البداية، موضع عشوائي، أو النهاية

أثناء استبدال الحمولة، يتم تحديد البيانات التالية:

* طريقة الاستبدال: استبدال جزء عشوائي في القيمة — أول `M` بايتات، آخر `M` بايتات، أو السلسلة كاملة
* حجم الحمولة `M` من 1 إلى 255 بايت

## قسم "اعتبر النتيجة شاذة إذا كانت الاستجابة"

إذا كانت الاستجابة من التطبيق تفي بجميع الشروط المكونة في قسم **اعتبر النتيجة شاذة إذا كانت الاستجابة**، فإن الشذوذ يعتبر موجودًا.

**مثال:**

إذا كان جسم الاستجابة يفي بالتعبير العادي `.*SQLITE_ERROR.*`، فيُعتبر أن الطلب الذي تم إرساله بواسطة FAST قد تسبب في شذوذ:

![مثال على الشرط][img-anomaly-condition]

!!! info "السلوك الافتراضي"
    إذا لم يتم تكوين شروط في هذا القسم، فسيكتشف الفازر استجابة الخادم بمعايير مختلفة بشكل غير طبيعي عن الاستجابة للطلب الأساسي. على سبيل المثال، قد يكون وقت استجابة الخادم الطويل سببًا لاكتشاف الاستجابة كشاذة.

## قسم "اعتبر النتيجة ليست شاذة إذا كانت الاستجابة"

إذا كانت الاستجابة من التطبيق تفي بجميع الشروط المكونة في قسم **اعتبر النتيجة ليست شاذة إذا كانت الاستجابة**، فإن الشذوذ يعتبر غير موجود.

**مثال:**

إذا كان كود الاستجابة أقل من `500`، فيُعتبر أن الطلب الذي تم إرساله بواسطة FAST لم يتسبب في شذوذ:

![مثال على الشرط][img-not-anomaly-condition]

## قسم "إيقاف الفاز إذا كانت الاستجابة"

إذا كانت استجابة التطبيق، عدد الشذوذات المكتشفة، أو عدد أخطاء المهلة يفي بجميع الشروط المكونة في قسم **إيقاف الفاز إذا كانت الاستجابة**، فإن الفازر يتوقف عن البحث عن شذوذ.

**مثال:**

سيتم إيقاف الفاز إذا تم اكتشاف أكثر من شذوذين. في كل شذوذ، يمكنك أن يكون لديك أي عدد من البايتات الشاذة الفردية غير مساوية لاثنين.

![مثال على الشرط][img-stop-condition]

!!! info "السلوك الافتراضي"
    إذا لم يتم تكوين شروط لإيقاف عملية الفاز، فإن الفازر سيفحص كل البايتات الشاذة الـ255. إذا تم اكتشاف شذوذ، كل بايت فردي في الحمولة سيتم إيقافه.