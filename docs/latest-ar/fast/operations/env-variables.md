# قائمة متغيرات البيئة المستخدمة بواسطة عقدة FAST

يتم استخدام الكثير من العوامل لضبط عقدة FAST. يمكن تغيير قيم هذه العوامل من خلال متغيرات البيئة المقابلة.

يمكنك ضبط قيم متغيرات البيئة، وإرسال هذه المتغيرات إلى عقدة FAST إما
* عن طريق الوسيط `-e`

    ```
    docker run --name <اسم الحاوية> \
    -e <متغير البيئة 1>=<القيمة> \
    ... 
    -e <متغير البيئة N>=<القيمة> \
    -p <منفذ الهدف>:8080 wallarm/fast
    ```
    
* أو عن طريق الوسيط `--env-file` الذي يحدد مسار ملف يحتوي على متغيرات البيئة

    ```
    docker run --name <اسم الحاوية> \
    --env-file=<ملف متغيرات البيئة> \
    -p <منفذ الهدف>:8080 wallarm/fast
    ```
    
    يجب أن يحتوي هذا الملف على قائمة متغيرات البيئة، متغير واحد في كل سطر:

    ```
    # ملف نموذجي بمتغيرات البيئة

    WALLARM_API_TOKEN=token_Qwe12345            # هذه قيمة نموذجية—استخدم قيمة رمز حقيقي بدلاً من ذلك
    ALLOWED_HOSTS=google-gruyere.appspot.com    # سيتم كتابة الطلبات الواردة التي تستهدف هذا النطاق، في سجل الاختبار
    ```

جميع العوامل القابلة للضبط مذكورة في الجدول أدناه:

| العامل                | القيمة     | مطلوب؟ |
|--------------------	| --------	| -----------	|
| `WALLARM_API_TOKEN`  	| رمز من سحابة Wallarm. | نعم |
| `WALLARM_API_HOST`   	| عنوان خادم واجهة برمجة التطبيقات Wallarm. <br>القيم المسموح بها: <br>`us1.api.wallarm.com` لخادم في سحابة Wallarm الأمريكية و<br>`api.wallarm.com` لخادم في سحابة Wallarm الأوروبية. | نعم |
| `ALLOWED_HOSTS`       | قائمة بنطاقات تطبيق الهدف. سيتم كتابة الطلبات الواردة الموجهة إلى هذه النطاقات في سجل الاختبار.<br>بشكل افتراضي، يتم تسجيل جميع الطلبات الواردة.<br>راجع المزيد من التفاصيل [هنا][anchor-allowed-hosts].| لا |
| `WALLARM_API_USE_SSL` | يحدد ما إذا كان يجب استخدام SSL عند الاتصال بأحد خوادم واجهة برمجة التطبيقات Wallarm.<br>القيم المسموح بها: `true` و`false`.<br>القيمة الافتراضية: `true`. | لا |
| `WORKERS`             | عدد الخيوط التي تعالج طلبات الأساس وتقوم باختبارات الأمان.<br>القيمة الافتراضية: `10`. | لا |
| `GIT_EXTENSIONS`      | الرابط إلى مستودع Git يحتوي على [امتدادات FAST DSL مخصصة][doc-dsl-ext] (يجب أن يكون هذا المستودع قابل للوصول من قبل حاوية عقدة FAST) | لا |
| `CI_MODE`             | وضع تشغيل عقدة FAST عند الدمج في CI/CD. <br>القيم المسموح بها هي: <br>`recording` لـ[وضع التسجيل][doc-record-mode] و<br>`testing` لـ[وضع الاختبار][doc-test-mode]. | لا |
| `BACKEND_HTTPS_PORTS` | رقم(أرقام) منفذ HTTPS المستخدمة بواسطة تطبيق الهدف إذا تم تكوين منافذ غير افتراضية للتطبيق.<br>يمكن سرد بعض المنافذ في قيمة هذا العامل، على سبيل المثال: <br>`BACKEND_HTTPS_PORTS='443;3000;8091'`<br>القيمة الافتراضية: `443` | لا |
| `WALLARM_API_CA_VERIFY` | يحدد ما إذا كان يجب التحقق من صحة شهادة CA لخادم واجهة برمجة التطبيقات Wallarm.<br>القيم المسموح بها: `true`و`false`.<br>القيمة الافتراضية: `false`. | لا |
| `CA_CERT`             | المسار إلى شهادة CA التي يجب استخدامها بواسطة عقدة FAST.<br>القيمة الافتراضية: `/etc/nginx/ssl/nginx.crt`. | لا |
| `CA_KEY`              | المسار إلى المفتاح الخاص بشهادة CA التي يجب استخدامها بواسطة عقدة FAST. <br>القيمة الافتراضية: `/etc/nginx/ssl/nginx.key`. | لا |


## تحديد عدد الطلبات التي يجب تسجيلها

بشكل افتراضي، تعامل عقدة FAST جميع الطلبات الواردة على أنها أساسية. لذلك، تسجل العقدة هذه الطلبات وتقوم بإنشاء اختبارات أمان وتنفيذها على أساسها. ومع ذلك، من الممكن أن تمر طلبات خارجية لا ينبغي اعتبارها طلبات أساسية عبر عقدة FAST إلى تطبيق الهدف.

يمكنك تحديد عدد الطلبات التي يجب تسجيلها بواسطة عقدة FAST من خلال تصفية كل الطلبات غير الموجهة إلى التطبيق (لاحظ أن عقدة FAST توجه الطلبات المفلترة ولكن لا تسجلها). يقلل هذا القيد من الحمل المطبق على عقدة FAST وتطبيق الهدف، مع تعزيز عملية الاختبار. لتطبيق هذا القيد، تحتاج إلى معرفة أي نطاقات يتفاعل معها مصدر الطلب أثناء الاختبار.

يمكنك تصفية كل الطلبات غير الأساسية من خلال ضبط متغير البيئة `ALLOWED_HOSTS`.

--8<--  "../include/fast/operations/env-vars-allowed-hosts.md"

تستخدم عقدة FAST هذا المتغير البيئي بالطريقة التالية:
* إذا كانت قيمة رأس الطلب الوارد `Host` تطابق القيمة المحددة في متغير `ALLOWED_HOSTS`، فإن عقدة FAST تعتبر الطلب طلباً أساسياً. يتم بعد ذلك تسجيل الطلب وتوجيهه.
* يتم توجيه جميع الطلبات الأخرى من خلال عقدة FAST ولكن لا يتم تسجيلها.

!!! info "مثال على استخدام متغير البيئة ALLOWED_HOSTS"
    إذا تم تعريف المتغير على أنه `ALLOWED_HOSTS=google-gruyere.appspot.com`، فسيتم اعتبار الطلبات الموجهة إلى نطاق `google-gruyere.appspot.com` طلبات أساسية.