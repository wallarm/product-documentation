[fast-node-token]:              ../operations/create-node.md
[fast-ci-mode-record]:          ci-mode-recording.md#environment-variables-in-recording-mode

[mail-to-us]:                   mailto:support@wallarm.com
[fast-examples-github]:         https://github.com/wallarm/fast-examples 

[jenkins-plugin-wallarm-fast]:   https://plugins.jenkins.io/wallarm-fast/

[jenkins-plugin-install]:       ../../images/fast/poc/common/examples/jenkins-plugin/jenkins-plugin-install.png
[jenkins-plugin-record-params]: ../../images/fast/poc/common/examples/jenkins-plugin/jenkins-plugin-record-params.png
[jenkins-plugin-playback-params]: ../../images/fast/poc/common/examples/jenkins-plugin/jenkins-plugin-playback-params.png
[jenkins-manage-plugin]:        https://jenkins.io/doc/book/managing/plugins/
[fast-example-jenkins-plugin-result]:  ../../images/fast/poc/common/examples/jenkins-plugin/jenkins-plugin-result.png
[fast-jenkins-cimode]:          examples/jenkins-cimode.md

# تكامل إضافة Wallarm FAST مع Jenkins

!!! warning "التوافق"
    يرجى ملاحظة أن إضافة Wallarm FAST تعمل فقط مع مشاريع Jenkins من نوع Freestyle.
    
    إذا كان مشروعك من نوع Pipeline، فيرجى التحقق من [مثال التكامل مع Jenkins عبر عقدة FAST][fast-jenkins-cimode].

## الخطوة 1: تثبيت الإضافة

قم بتثبيت [إضافة Wallarm FAST][jenkins-plugin-wallarm-fast] في مشروع Jenkins باستخدام إدارة الإضافات. يمكن العثور على معلومات أكثر تفصيلاً حول إدارة الإضافات في [وثائق Jenkins الرسمية][jenkins-manage-plugin].

![تثبيت إضافة Wallarm FAST][jenkins-plugin-install]

إذا واجهت مشاكل أثناء التثبيت، قم ببناء الإضافة يدويًا.

??? info "بناء إضافة Wallarm FAST يدويًا"
    لبناء إضافة Wallarm FAST يدويًا، اتبع الخطوات أدناه:

    1. تأكد من تثبيت واجهة سطر الأوامر [Maven](https://maven.apache.org/install.html).
    2. نفذ الأوامر التالية:
        ```
        git clone https://github.com/jenkinsci/wallarm-fast-plugin.git
        cd wallarm-fast-plugin
        mvn package
        ```
        
        بعد تنفيذ الأوامر بنجاح، سيتم إنشاء ملف إضافة `wallarm-fast.hpi` في دليل `target`.

    3. قم بتثبيت إضافة `wallarm-fast.hpi` باستخدام [تعليمات Jenkins](https://jenkins.io/doc/book/managing/plugins/#advanced-installation).

## الخطوة 2: إضافة خطوات التسجيل والاختبار

!!! info "سير العمل المُعد"
    ستتطلب الإرشادات التالية وجود سير عمل Jenkins مُعد يطابق واحدًا من النقاط التالية:

    * يجب تطبيق أتمتة الاختبار. في هذه الحالة، سيتم إضافة خطوات [تسجيل الطلبات](#إضافة-خطوة-تسجيل-الطلبات) و[اختبار الأمان](#إضافة-خطوة-اختبار-الأمان).
    * يجب تسجيل مجموعة من الطلبات الأساسية. في هذه الحالة، سيتم إضافة خطوة [اختبار الأمان](#إضافة-خطوة-اختبار-الأمان).

### إضافة خطوة تسجيل الطلبات

لإضافة خطوة تسجيل الطلبات، حدد وضع `تسجيل الأساسيات` في علامة التبويب **البناء** وضع المتغيرات الموضحة أدناه. يجب إضافة خطوة تسجيل الطلبات **قبل خطوة اختبار التطبيق الآلي**.

!!! warning "الشبكة"
    قبل تسجيل الطلبات، تأكد من أن إضافة FAST وأداة الاختبار الآلي تقعان في نفس الشبكة.

??? info "المتغيرات في وضع التسجيل"

    | المتغير              | القيمة  | مطلوب   |
    |--------------------   | --------  | -----------  |
    | `رمز واجهة برمجة تطبيقات Wallarm`     | رمز من سحابة Wallarm. | نعم |
    | `مضيف واجهة برمجة تطبيقات Wallarm`      | عنوان مضيف واجهة برمجة تطبيقات Wallarm. <br>القيم المسموح بها: <br>`us1.api.wallarm.com` للمضيف في سحابة Wallarm الأمريكية و<br>`api.wallarm.com` للمضيف في سحابة Wallarm الأوروبية.<br>القيمة الافتراضية هي `us1.api.wallarm.com`. | لا |
    | `مضيف التطبيق`      | عنوان تطبيق الاختبار. يمكن أن تكون القيمة عنوان IP أو اسم نطاق. | نعم |
    | `منفذ التطبيق`      | منفذ تطبيق الاختبار. القيمة الافتراضية هي 8080. | لا |
    | `منفذ FAST`   | منفذ عقدة FAST. | نعم |
    | `مهلة عدم النشاط`    | إذا لم تصل طلبات أساسية إلى عقدة FAST ضمن هذا الفاصل الزمني، فإن عملية التسجيل تتوقف بالإضافة إلى توقف عقدة FAST.<br>النطاق المسموح للقيمة: من ثانية واحدة إلى أسبوع واحد.<br>يجب تمرير القيمة بالثواني.<br>القيمة الافتراضية: 600 ثانية (10 دقائق). | لا |
    | `اسم FAST`             | اسم حاوية Docker لعقدة FAST. | لا |
    | `إصدار Wallarm`       | إصدار عقدة FAST المستخدمة. | لا |
    | `شبكة Docker المحلية`  | شبكة Docker التي تعمل فيها عقدة FAST. | لا |
    | `IP Docker المحلي`       | عنوان IP الذي سيتم تعيينه لعقدة FAST الجارية. | لا |
    | `بدون sudo`          | ما إذا كان سيتم تنفيذ أوامر عقدة FAST بحقوق المستخدم الذي قام بتشغيل عقدة FAST. بشكل افتراضي، يتم تنفيذ الأوامر بحقوق المستخدم الفائق (عبر sudo). |لا |

**مثال على إعداد الإضافة لتسجيل الاختبار:**

![مثال على إعداد الإضافة لتسجيل الطلبات][jenkins-plugin-record-params]

ثم، قم بتحديث خطوة الاختبار الآلي بإضافة عقدة FAST كوكيل.

ستوقف الإضافة تسجيل الطلبات تلقائيًا عند الانتهاء من الاختبار.

### إضافة خطوة اختبار الأمان

لإضافة خطوة اختبار الأمان، حدد وضع `تشغيل الأساسيات` في علامة التبويب **البناء** وضع المتغيرات الموضحة أدناه.

يرجى ملاحظة أنه يجب أن يكون التطبيق قد تم بدء تشغيله ومتاحًا للاختبار **قبل تشغيل اختبار الأمان**.

!!! warning "الشبكة"
    قبل اختبار الأمان، تأكد من أن إضافة FAST والتطبيق يقعان في نفس الشبكة.

??? info "المتغيرات في وضع الاختبار"

    | المتغير              | القيمة  | مطلوب   |
    |--------------------   | --------  | -----------  |
    | `رمز واجهة برمجة تطبيقات Wallarm`     | رمز من سحابة Wallarm. | نعم |
    | `مضيف واجهة برمجة تطبيقات Wallarm`    | عنوان مضيف واجهة برمجة تطبيقات Wallarm. <br>القيم المسموح بها: <br>`us1.api.wallarm.com` للمضيف في سحابة Wallarm الأمريكية و<br>`api.wallarm.com` للمضيف في سحابة Wallarm الأوروبية<br>القيمة الافتراضية هي `us1.api.wallarm.com`. | لا |
    | `مضيف التطبيق`      | عنوان تطبيق الاختبار. يمكن أن تكون القيمة عنوان IP أو اسم نطاق. | نعم |
    | `منفذ التطبيق`      | منفذ تطبيق الاختبار. القيمة الافتراضية هي 8080. | لا |
    | `معرّف السياسة`   | [معرّف سياسة الاختبار](../operations/test-policy/overview.md).<br> القيمة الافتراضية هي `0`-`سياسة الاختبار الافتراضية`. | لا |
    | `معرّف TestRecord`    | معرّف سجل الاختبار. يقابل [TEST_RECORD_ID](ci-mode-testing.md#environment-variables-in-testing-mode).<br>القيمة الافتراضية هي آخر سجل اختبار تم إنشاؤه بواسطة عقدة FAST المستخدمة.| لا |
    | `RPS ل TestRun`   | حد عدد طلبات الاختبار (*RPS*, *طلبات في الثانية*) التي سترسل إلى التطبيق المستهدف.<br>القيمة الدنيا: `1`.<br>القيمة القصوى: `500`.<br>القيمة الافتراضية: `null` (RPS غير محدود).| لا |
    | `اسم TestRun`   | اسم جولة الاختبار.<br>بشكل افتراضي، سيتم توليد القيمة تلقائيًا من تاريخ إنشاء جولة الاختبار.| لا |
    | `وصف TestRun`   | وصف جولة الاختبار.| لا |
    | `التوقف عند أول خطأ`   | ما إذا كان سيتم إيقاف الاختبار عند حدوث خطأ. | لا |
    | `إنهاء البناء`   | ما إذا كان سيتم إنهاء البناء بخطأ عند العثور على ثغرات أمنية أثناء اختبار الأمان. | لا |
    | `الاستثناء`   | قائمة امتدادات الملفات التي سيتم استثناؤها من اختبار الأمان.<br>لتقسيم الامتدادات، يُستخدم رمز &#448;.<br> بشكل افتراضي، لا توجد استثناءات.| لا |
    | `اسم FAST`             | اسم حاوية Docker لعقدة FAST. | لا |
    | `إصدار Wallarm`       | إصدار عقدة FAST المستخدمة. | لا |
    | `شبكة Docker المحلية`  | شبكة Docker التي تعمل فيها عقدة FAST. | لا |
    | `IP Docker المحلي`       | عنوان IP الذي سيتم تعيينه لعقدة FAST الجارية. | لا |
    | `بدون sudo`          | ما إذا كان سيتم تنفيذ أوامر عقدة FAST بحقوق المستخدم الذي قام بتشغيل عقدة FAST. بشكل افتراضي، يتم تنفيذ الأوامر بحقوق المستخدم الفائق (عبر sudo). |لا|

    !!! warning "تشغيل عقدة FAST"
        يرجى ملاحظة أنه إذا أضفت إلى سير العمل كلًا من خطوة تسجيل الطلبات وخطوة اختبار الأمان، فيجب أن تكون أسماء حاويات Docker لعقدة FAST مختلفة.

**مثال على إعداد الإضافة لاختبار الأمان:**

![مثال على إعداد الإضافة لاختبار الأمان][jenkins-plugin-playback-params]

## الخطوة 3: الحصول على نتيجة الاختبار

ستُعرض نتيجة اختبار الأمان في واجهة Jenkins.

![نتيجة تشغيل إضافة FAST][fast-example-jenkins-plugin-result]

## المزيد من الأمثلة

يمكنك إيجاد أمثلة على تكامل FAST مع سير عمل CircleCI على [GitHub][fast-examples-github].

!!! info "الأسئلة الإضافية"
    إذا كانت لديك أسئلة متعلقة بتكامل FAST، يُرجى [التواص