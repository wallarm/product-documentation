[doc-integration-api]:          integration-overview-api.md
[doc-integration-ci-mode]:      integration-overview-ci-mode.md
[doc-concurrent-pipelines]:     ci-mode-concurrent-pipelines.md

[img-api-mode]:                 ../../images/fast/poc/en/integration-overview/api-mode-common.png
[img-ci-mode]:                  ../../images/fast/poc/en/integration-overview/ci-mode-common.png
[img-ci-mode-build-id]:         ../../images/fast/poc/en/integration-overview/ci-build-id-common.png

[anchor-build-id]:              #deploying-fast-node-with-ci-mode-for-use-in-concurrent-cicd-workflows

[doc-qsg]:              ../qsg/deployment-options.md

# سير عمل CI/CD مع FAST

لو دمجت FAST مع سير عمل CI/CD، هيتم إضافة خطوات إضافية لسير عمل CI/CD الحالي. الخطوات الإضافية دي ممكن تكون جزء من شغل CI/CD الحالي، أو شغل منفصل.   

الخطوات الإضافية المطلوبة هتختلف على حسب السيناريو المستخدم لإنشاء الاختبارات. كل السيناريوهات الممكنة موصوفة تحت.

##  الدمج عن طريق API وولارم (يعني "النشر عبر API")

في السيناريو ده، نود FAST بيتحكم فيه عن طريق API وولارم. الAPI ده كمان بيتستخدم لإدارة جولات الاختبار. نود FAST ممكن يسجل طلبات أساسية، أو يشتغل مع طلبات أساسية تم تسجيلها سابقا:
    
![الدمج عبر API][img-api-mode] 

في السيناريو ده، FAST بيظهر السلوك الآتي:
* حاوية دوكر نود FAST واحدة بتكون مربوطة بنود FAST سحابي مقابل واحد. عشان تشغل أكتر من حاوية بنود FAST في نفس الوقت، هتحتاج نفس عدد نودات FAST السحابية والتوكينز كعدد الحاويات اللي ناوي تنشرها.
* لو أنشأت نود FAST جديد لنود FAST سحابي وفيه نود FAST تاني مربوط بنفس النود السحابي ده، تشغيل جولة الاختبار هيتوقف للنود التاني.
* سياسة الاختبار وسجل الاختبار ممكن يتستخدموا بواسطة عدة جولات اختبار ونودات FAST.
    
شوف [المستند ده][doc-integration-api] عشان تعرف تفاصيل دمج FAST في الحالة دي. 

##  الدمج عن طريق نود FAST (يعني "النشر بوضع CI MODE")

في السيناريو ده، نود FAST بيتستخدم في وضع الاختبار والتسجيل. وضع التشغيل بيتغير بتعديل متغير البيئة `CI_MODE` عند نشر حاوية بالنود. نود FAST بيدير جولات الاختبار بنفسه؛ يعني مفيش حاجة لأداة CI/CD تتفاعل مع API وولارم.

شوف الصورة تحت عشان تفهم شرح مبسط للسيناريو ده:

![الدمج باستخدام CI MODE][img-ci-mode]

في السيناريو ده، FAST بيظهر السلوك الآتي:
* حاوية دوكر نود FAST واحدة بتكون مربوطة بنود FAST سحابي مقابل واحد. عشان تشغل أكتر من حاوية بنود FAST في نفس الوقت، هتحتاج نفس عدد نودات FAST السحابية والتوكينز كعدد الحاويات اللي ناوي تنشرها.
    عشان تنشر نودات FAST كتيرة بطريقة صحيحة لاستخدامها في سياقات CI/CD متوازية، هتحتاج تستخدم نهج مختلف شبه وضع CI MODE [الموصوف تحت][anchor-build-id].
* لو أنشأت نود FAST جديد لنود FAST سحابي وفيه نود FAST تاني مربوط بنفس النود السحابي ده، تشغيل جولة الاختبار هيتوقف للنود التاني.
* سياسة الاختبار وسجل الاختبار ممكن يتستخدموا بواسطة عدة جولات اختبار ونودات FAST.

شوف [المستند ده][doc-integration-ci-mode] عشان تعرف تفاصيل دمج FAST في الحالة دي. 
    

### نشر نود FAST بوضع CI MODE للاستخدام في سياقات CI/CD متوازية

عشان تنشر نود FAST بطريقة مناسبة لسياقات CI/CD متوازية، أنت مفروض تستخدم وضع CI MODE زي الموصوف فوق وتمرر متغير البيئة الإضافي `BUILD_ID` لحاوية النود.

متغير `BUILD_ID` بيسمح بالتسجيل لعدة سجلات اختبار مختلفة وأنت بتستخدم نود FAST سحابي واحد، وإعادة استخدام السجلات دي في وقت لاحق لتشغيل عدة جولات اختبار متوازية.

شوف الصورة تحت لشرح مبسط للسيناريو ده:

![الدمج باستخدام BUILD_ID][img-ci-mode-build-id]

في السيناريو ده، FAST بيظهر السلوك الآتي:
* شوية نودات FAST ممكن تشتغل عن طريق نود FAST سحابي واحد للعمل في سياقات CI/CD متوازية. خلي بالك **نفس التوكين بيتستخدم** بواسطة كل النودات FAST دي.
* جولات الاختبار بتستخدم سجلات اختبار مختلفة معلمة بمعرفات `BUILD_ID` مختلفة.
* الجولات دي بتتنفذ بالتوازي؛ وفوق كده، ممكن تستخدم سياسات اختبار مختلفة، لو لزم الأمر.

شوف [المستند ده][doc-concurrent-pipelines] للشرح التفصيلي عن استخدام FAST في سياقات CI/CD متوازية.


!!! info "دعم HTTPS"
    الإرشادات دي بتوضح دمج FAST مع CI/CD لاختبار التطبيقات اللي بتشتغل على بروتوكول HTTP.
    
    نود FAST كمان بيدعم اختبار التطبيقات اللي بتشتغل على بروتوكول HTTPS. في تفاصيل أكتر موضحة في [دليل البداية السريعة][doc-qsg].