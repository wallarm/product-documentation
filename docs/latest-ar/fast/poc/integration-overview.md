[doc-integration-api]:          integration-overview-api.md
[doc-integration-ci-mode]:      integration-overview-ci-mode.md
[doc-concurrent-pipelines]:     ci-mode-concurrent-pipelines.md

[img-api-mode]:                 ../../images/fast/poc/en/integration-overview/api-mode-common.png
[img-ci-mode]:                  ../../images/fast/poc/en/integration-overview/ci-mode-common.png
[img-ci-mode-build-id]:         ../../images/fast/poc/en/integration-overview/ci-build-id-common.png

[anchor-build-id]:              #deploying-fast-node-with-ci-mode-for-use-in-concurrent-cicd-workflows

[doc-qsg]:              ../qsg/deployment-options.md

#   سير العمل الخاص ب CI/CD مع FAST

عند دمج FAST في سير العمل الخاص ب CI/CD، ستُضاف خطوات إضافية عدة لسير العمل الخاص ب CI/CD الحالي. يمكن أن تكون هذه الخطوات جزءًا من وظيفة CI/CD الحالية أو وظيفة منفصلة.

سيختلف الدقائق الخاصة بهذه الخطوات الإضافية حسب سيناريو إنشاء الاختبار الذي يتم تطبيقه. أوضحت السيناريوهات المحتملة أدناه.

##  الدمج عبر واجهة برمجة تطبيقات Wallarm (المعروفة بـ "النشر عبر API")

في هذا السيناريو، يتم إدارة عقدة FAST عبر واجهة برمجة تطبيقات Wallarm. وتُستخدم هذه الواجهة أيضًا لإدارة جلسات الاختبار. يمكن لعقدة FAST إما تسجيل طلبات الأساس أو العمل مع طلبات أساس مسجلة مسبقًا:

![الدمج عبر API][img-api-mode]

في هذا السيناريو، تُظهر FAST السلوك التالي:
* يرتبط حاوية Docker الخاصة بعقدة FAST الواحدة بعقدة cloud FAST مقابلة واحدة. لتشغيل العديد من الحاويات مع عقدة FAST بالتزامن، ستحتاج إلى نفس عدد عقد cloud FAST والرموز كعدد الحاويات التي تخطط لنشرها.
* إذا أنشأت عقدة FAST جديدة لعقدة cloud FAST وكان هناك عقدة FAST أخرى مرتبطة بهذه العقدة السحابية، فسيتم إلغاء تنفيذ جلسة الاختبار للعقدة الأخيرة.
* يمكن استخدام سياسة اختبار وسجل اختبار بواسطة جلسات اختبار وعقد FAST متعددة.

انظر [هذه الوثيقة][doc-integration-api] للتفاصيل حول كيفية دمج FAST في هذه الحالة.

##  الدمج عبر عقدة FAST (المعروفة بـ "النشر مع CI MODE")

في هذا السيناريو، تُستخدم عقدة FAST في وضعي الاختبار والتسجيل. يتم تبديل وضع التشغيل بواسطة التحكم في متغير البيئة `CI_MODE` عند نشر حاوية مع العقدة. تدير عقدة FAST جلسات الاختبار بنفسها؛ لذلك، لا حاجة لأداة CI/CD للتفاعل مع واجهة برمجة تطبيقات Wallarm.

انظر الصورة أدناه لشرح مخطط لهذا السيناريو:

![الدمج مع CI MODE][img-ci-mode]

في هذا السيناريو، تُظهر FAST السلوك التالي:
* يرتبط حاوية Docker الخاصة بعقدة FAST الواحدة بعقدة cloud FAST مقابلة واحدة. لنشر العديد من عقد FAST للاستخدام في سياقات CI/CD المتزامنة، ستحتاج إلى استخدام نهج مختلف يشبه CI MODE [الموضح أدناه][anchor-build-id].
* إذا أنشأت عقدة FAST جديدة لعقدة cloud FAST وكان هناك عقدة FAST أخرى مرتبطة بهذه العقدة السحابية، فسيتم إلغاء تنفيذ جلسة الاختبار للعقدة الأخيرة.
* يمكن استخدام سياسة اختبار وسجل اختبار بواسطة جلسات اختبار وعقد FAST متعددة.

انظر [هذه الوثيقة][doc-integration-ci-mode] للتفاصيل حول كيفية دمج FAST في هذه الحالة.

### نشر عقدة FAST مع CI MODE للاستخدام في سياقات CI/CD المتزامنة

لنشر عقدة FAST بطريقة مناسبة لسياقات CI/CD المتزامنة، يجب استخدام CI MODE كما هو موضح أعلاه وتمرير متغير البيئة الإضافي `BUILD_ID` إلى حاوية العقدة.

يتيح معامل `BUILD_ID` التسجيل إلى سجلات اختبار مختلفة عند استخدام عقدة cloud FAST واحدة وإعادة استخدام هذه السجلات لاحقًا لتشغيل عدة جلسات اختبار متزامنة.

انظر الصورة أدناه لشرح مخطط لهذا السيناريو:

![الدمج مع BUILD_ID][img-ci-mode-build-id]

في هذا السيناريو، تُظهر FAST السلوك التالي:
* يمكن لعدة عقد FAST العمل عبر عقدة cloud FAST واحدة للعمل في سياقات CI/CD المتزامنة. لاحظ أن **نفس الرمز يُستخدم** بواسطة جميع هذه العقد FAST.
* تستخدم جلسات الاختبار سجلات اختبار مختلفة مُميزة بمعرّفات `BUILD_ID` متميزة.
* تُنفذ هذه الجلسات اختبارات بالتوازي؛ علاوة على أنه يمكنها استخدام سياسات اختبار مختلفة، إذا لزم الأمر.

انظر [هذه الوثيقة][doc-concurrent-pipelines] لشرح مفصل حول كيفية استخدام FAST في سياقات CI/CD المتزامنة.

!!! info "دعم HTTPS"
    توضح هذه التعليمات دمج FAST مع CI/CD لاختبار التطبيق الذي يعمل عبر بروتوكول HTTP.
    
    تدعم عقدة FAST أيضًا اختبار التطبيقات العاملة عبر بروتوكول HTTPS. يتم وصف المزيد من التفاصيل في [دليل البدء السريع][doc-qsg].