# محلل HTTP

يقوم **محلل HTTP** الضمني بمعالجة الطلبات السنوية. لا يجب تحديد اسمه في نقطة عند استخدام المرشحات التي يوفرها.

يبني محلل HTTP هيكل بيانات معقد بناءً على الطلب الأساسي. يمكنك استخدام المرشحات التالية للوصول إلى عناصر هذا الهيكل البياني:

* [URI][anchor1];
* [Path][anchor2];
* [Action_name][anchor3];
* [Action_ext][anchor4];
* [Get][anchor5];
* [Header][anchor6];
* [Post][anchor7].

!!! info "استخدام المرشحات في النقاط"
    أضف اسم المرشح بالأحرف الكبيرة إلى النقطة لاستخدام المرشح فيها.

## مرشح URI

يشير مرشح **URI** إلى المسار المطلق لهدف الطلب. يبدأ المسار المطلق برمز `/` الذي يتبع المجال أو عنوان IP للهدف.

يشير مرشح URI إلى قيمة نصية. لا يمكن لهذا المرشح الإشارة إلى هياكل بيانات معقدة (مثل المصفوفات أو جداول التجزئة).

**مثال:** 

تشير نقطة `URI_value` إلى النص `/login/index.php` في طلب `GET http://example.com/login/index.php`.


## مرشح Path

يشير مرشح **Path** إلى مصفوفة تحتوي على أجزاء مسار URI. يجب الإشارة إلى عناصر هذه المصفوفة باستخدام مؤشراتها. يبدأ فهرسة المصفوفة من `0`.

!!! info "التعبيرات العادية في النقاط"
    يمكن أن يكون الفهرس في النقطة تعبيرًا عاديًا للغة البرمجة [Ruby][link-ruby].

**مثال:** 

لطلب `GET http://example.com/main/login/index.php HTTP/1.1`، يشير مرشح Path إلى المصفوفة التالية:

| الفهرس  | القيمة    |
|--------|----------|
| 0      | main     |
| 1      | login    |

* تشير نقطة `PATH_0_value` إلى قيمة `main` الموجودة في المصفوفة التي يشير إليها مرشح Path بالفهرس `0`.
* تشير نقطة `PATH_1_value` إلى قيمة `login` الموجودة في المصفوفة التي يشير إليها مرشح Path بالفهرس `1`.

إذا احتوى URI للطلب على جزء واحد فقط، يشير مرشح Path إلى المصفوفة الفارغة.

**مثال:**

للطلب `GET http://example.com/ HTTP/1.1`، يشير مرشح Path إلى مصفوفة فارغة.

## مرشح Action_name

يشير مرشح **Action_name** إلى جزء من URI الذي يبدأ بعد رمز `/` الأخير وينتهي بالنقطة.

يشير مرشح Action_name إلى قيمة نصية. لا يمكن لهذا المرشح الإشارة إلى هياكل بيانات معقدة (مثل المصفوفات أو جداول التجزئة).

**مثال:** 
* تشير نقطة `ACTION_NAME_value` إلى قيمة `index` لطلب `GET http://example.com/login/index.php`.
* تشير نقطة `ACTION_NAME_value` إلى قيمة فارغة للطلب `GET http://example.com/login/`.

## مرشح Action_ext

يشير مرشح **Action_ext** إلى جزء من URI الذي يبدأ بعد النقطة الأولى التي تلي رمز `/` الأخير. إذا كان هذا الجزء من URI مفقودًا من الطلب، لا يمكن استخدام مرشح Action_ext في النقطة.

يشير مرشح Action_ext إلى قيمة نصية. لا يمكن لهذا المرشح الإشارة إلى هياكل بيانات معقدة (مثل المصفوفات أو جداول التجزئة).

**مثال:** 

* تشير نقطة `ACTION_EXT_value` إلى قيمة `php` للطلب `GET http://example.com/main/login/index.php`.
* لا يمكن استخدام مرشح Action_ext في النقطة التي تشير إلى الطلب `GET http://example.com/main/login/`.

## مرشح Get

يشير مرشح **Get** إلى جدول التجزئة الذي يحتوي على المعلمات من سلسلة الاستعلام للطلب. يجب الإشارة إلى عناصر هذا الجدول باستخدام أسماء المعلمات.

!!! info "التعبيرات العادية في النقاط"
    يمكن أن يكون اسم المعلمة في النقطة تعبيرًا عاديًا للغة البرمجة [Ruby][link-ruby].

قد تحتوي معلمات سلسلة الاستعلام أيضًا على هياكل بيانات معقدة مثل المصفوفات وجداول التجزئة. استخدم مرشحات [Array][link-get-array] و[Hash][link-get-hash] على التوالي للإشارة إلى عناصر هذه الهياكل.

**مثال:** 

للطلب `POST http://example.com/login?id=01234&username=admin`، يشير مرشح Get إلى جدول التجزئة التالي:

| اسم المعلمة | القيمة |
|------------|-------|
| id         | 01234 |
| username   | admin |

* تشير نقطة `GET_id_value` إلى قيمة `01234` المتطابقة مع معلمة `id` من جدول التجزئة الذي يشير إليه مرشح Get.
* تشير نقطة `GET_username_value` إلى قيمة `admin` المتطابقة مع معلمة `username` من جدول التجزئة الذي يشير إليه مرشح Get.


## مرشح Header

يشير مرشح **Header** إلى جدول التجزئة الذي يحتوي على أسماء الرؤوس وقيمها. يجب الإشارة إلى عناصر هذا الجدول باستخدام أسماء الرؤوس.

!!! info "اسم الرأس في نقطة"
    يمكن تحديد اسم الرأس في نقطة بإحدى الطريقتين التاليتين:

    * بالأحرف الكبيرة
    * بنفس الطريقة التي يُحدد بها في الطلب

!!! info "التعبيرات العادية في النقاط"
    يمكن أن يكون اسم الرأس في النقطة تعبيرًا عاديًا للغة البرمجة [Ruby][link-ruby].

قد يحتوي اسم الرأس أيضًا على مصفوفة من القيم. استخدم مرشح [Array][link-header-array] للإشارة إلى عناصر هذه المصفوفة.

**مثال:** 

للطلب

```
GET /login/index.php HTTP/1.1
Connection: keep-alive
Host: example.com
Accept-encoding: gzip
```

يشير مرشح Header إلى جدول التجزئة التالي:

| اسم الرأس       | القيمة       |
|-----------------|-------------|
| Connection      | keep-alive  |
| Host            | example.com |
| Accept-Encoding | gzip        |

* تشير نقطة `HEADER_Connection_value` إلى قيمة `keep-alive` المتطابقة مع رأس `Connection` من جدول التجزئة الذي يشير إليه مرشح Header.
* تشير نقطة `HEADER_Host_value` إلى قيمة `example.com` المتطابقة مع رأس `Host` من جدول التجزئة الذي يشير إليه مرشح Header.
* تشير نقطة `HEADER_Accept-Encoding_value` إلى قيمة `gzip` المتطابقة مع رأس `Accept-Encoding` من جدول التجزئة الذي يشير إليه مرشح Header.



## مرشح Post

يشير مرشح **Post** إلى محتويات جسم الطلب.

يمكنك استخدام اسم مرشح Post في النقطة للتعامل مع محتويات جسم الطلب بتنسيق النص الخام.

**مثال:** 

للطلب

```
POST http://example.com/main/index.php HTTP/1.1
Content-Type: text/plain
Content-Length: 28
```

مع جسم

```
This is a simple body text.
```

تشير نقطة `POST_value` إلى قيمة `This is a simple body text.` من جسم الطلب.

يمكنك أيضًا التعامل مع جسم طلب يحتوي على هياكل بيانات معقدة. استخدم المرشحات والمحللات التالية بعد مرشح Post للإشارة إلى عناصر الهياكل البيانية المقابلة:
* المحلل [Form_urlencoded][link-formurlencoded] لجسم الطلب بتنسيق **form-urlencoded**
* المحلل [Multipart][link-multipart] لجسم الطلب بتنسيق **multipart**
* المرشحات التي يوفرها محلل XML لجسم الطلب بتنسيق **XML**
* المرشحات التي يوفرها محلل Json_doc لجسم الطلب بتنسيق **JSON**