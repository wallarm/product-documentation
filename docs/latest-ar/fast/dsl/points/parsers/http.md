[link-ruby]:                http://ruby-doc.org/core-2.6.1/doc/regexp_rdoc.html
[link-formurlencoded]:      form-urlencoded.md
[link-multipart]:           multipart.md
[link-xml]:                 xml.md
[link-json]:                json.md

[link-get-array]:           array.md#the-example-of-using-the-get-filter-with-the-array-filter
[link-get-hash]:            hash.md#the-example-of-using-the-get-filter-and-the-hash-filter
[link-header-array]:        array.md#the-example-of-using-the-header-filter-with-the-array-filter

[anchor1]:      #uri-filter
[anchor2]:      #path-filter
[anchor3]:      #actionname-filter
[anchor4]:      #actionext-filter
[anchor5]:      #get-filter
[anchor6]:      #header-filter
[anchor7]:      #post-filter

# محلل HTTP

يؤدي **محلل HTTP** الضمنى معالجة الطلب السنوية. لا ينبغي تحديد اسمه في نقطة عند استخدام الفلاتر المقدمة منه.

يبني محلل HTTP هيكل بيانات معقدًا استنادًا إلى الطلب الأساسي. يمكنك استخدام الفلاتر التالية للتعامل مع عناصر هذا الهيكل البياني:

* [URI][anchor1];
* [المسار][anchor2];
* [اسم_الفعل][anchor3];
* [ملحق_الفعل][anchor4];
* [Get][anchor5];
* [الرأس][anchor6];
* [المنشور][anchor7].

!!! info "استخدام الفلاتر في النقاط"
    أضف اسم الفلتر بالأحرف الكبيرة إلى النقطة لاستخدام الفلتر في النقطة.

## فلتر URI

يشير فلتر **URI** إلى المسار الكامل لهدف الطلب. يبدأ المسار الكامل برمز `/` الذي يتبع نطاق أو عنوان IP للهدف.

يشير فلتر URI إلى قيمة نصية. لا يمكن أن يشير هذا الفلتر إلى الهياكل البيانية المعقدة (مثل المصفوفات أو جداول التجزئة).

**مثال:**

تشير النقطة `URI_value` إلى النص `/login/index.php` في طلب `GET http://example.com/login/index.php`.


## فلتر المسار

يشير فلتر **المسار** إلى مصفوفة تحتوي أجزاء المسار URI. يجب الإشارة إلى عناصر هذه المصفوفة باستخدام فهارسها. يبدأ فهرسة المصفوفة من `0`.

!!! info "التعبيرات النظامية في النقاط"
    يمكن أن يكون الفهرس في النقطة تعبيرًا نظاميًا لـ[لغة برمجة Ruby][link-ruby].

**مثال:**

لطلب `GET http://example.com/main/login/index.php HTTP/1.1`، يشير فلتر المسار إلى المصفوفة التالية:

| الفهرس | القيمة    |
|--------|----------|
| 0      | main     |
| 1      | login    |

* تشير النقطة `PATH_0_value` إلى القيمة `main` الموجودة في المصفوفة التي يشير إليها فلتر المسار بالفهرس `0`.
* تشير النقطة `PATH_1_value` إلى القيمة `login` الموجودة في المصفوفة التي يشير إليها فلتر المسار بالفهرس `1`.

إذا احتوى URI الطلب على جزء واحد فقط، يشير فلتر المسار إلى المصفوفة الفارغة.

**مثال:**

لطلب `GET http://example.com/ HTTP/1.1`، يشير فلتر المسار إلى مصفوفة فارغة.

## فلتر اسم_الفعل

يشير فلتر **اسم_الفعل** إلى الجزء من URI الذي يبدأ بعد آخر رمز `/` وينتهي بالنقطة.

يشير فلتر اسم_الفعل إلى قيمة نصية. لا يمكن أن يشير هذا الفلتر إلى الهياكل البيانية المعقدة (مثل المصفوفات أو جداول التجزئة).

**مثال:**
* تشير النقطة `ACTION_NAME_value` إلى قيمة `index` لطلب `GET http://example.com/login/index.php`.
* تشير النقطة `ACTION_NAME_value` إلى القيمة الفارغة لطلب `GET http://example.com/login/`.


## فلتر ملحق_الفعل

يشير فلتر **ملحق_الفعل** إلى الجزء من URI الذي يبدأ بعد أول نقطة تلي آخر رمز `/`. إذا كان هذا الجزء من URI مفقودًا من الطلب، لا يمكن استخدام فلتر ملحق_الفعل في النقطة.

يشير فلتر ملحق_الفعل إلى قيمة نصية. لا يمكن أن يشير هذا الفلتر إلى الهياكل البيانية المعقدة (مثل المصفوفات أو جداول التجزئة).

**مثال:**

* تشير النقطة `ACTION_EXT_value` إلى قيمة `php` لطلب `GET http://example.com/main/login/index.php`.
* لا يمكن استخدام فلتر ملحق_الفعل في النقطة التي تشير إلى طلب `GET http://example.com/main/login/`.

## فلتر Get

يشير فلتر **Get** إلى جدول التجزئة الذي يحتوي على معاملات من سلسلة الاستعلام بالطلب. يجب الإشارة إلى عناصر هذا الجدول التجزئي باستخدام أسماء المعاملات.

!!! info "التعبيرات النظامية في النقاط"
    يمكن أن يكون اسم المعامل في النقطة تعبيرًا نظاميًا لـ[لغة برمجة Ruby][link-ruby].

قد تحتوي معاملات سلسلة الاستعلام أيضًا على الهياكل البيانية المعقدة التالية: المصفوفات وجداول التجزئة. استخدم فلاتر [المصفوفة][link-get-array] و[التجزئة][link-get-hash] على التوالي للإشارة إلى العناصر في هذه الهياكل.

**مثال:**

لطلب `POST http://example.com/login?id=01234&username=admin`، يشير فلتر Get إلى الجدول التجزئي التالي:

| اسم المعامل    | القيمة |
|----------------|-------|
| id             | 01234 |
| username       | admin |

* تشير النقطة `GET_id_value` إلى القيمة `01234` التي تتطابق مع معامل `id` من الجدول التجزئي الذي يشير إليه فلتر Get.
* تشير النقطة `GET_username_value` إلى القيمة `admin` التي تتطابق مع معامل `username` من الجدول التجزئي الذي يشير إليه فلتر Get.


## فلتر الرأس

يشير فلتر **الرأس** إلى الجدول التجزئي الذي يحتوي على أسماء الرؤوس وقيمها. يجب الإشارة إلى عناصر هذا الجدول التجزئي باستخدام أسماء الرؤوس.

!!! info "اسم الرأس في نقطة"
    يمكن تحديد اسم الرأس في نقطة بأحد الطرق التالية:

    * بأحرف كبيرة
    * بنفس الطريقة التي يُحدد بها في الطلب

!!! info "التعبيرات النظامية في النقاط"
    يمكن أن يكون اسم الرأس في النقطة تعبيرًا نظاميًا لـ[لغة برمجة Ruby][link-ruby].


قد يحتوي أيضًا اسم الرأس على مصفوفة من القيم. استخدم فلتر [المصفوفة][link-header-array] للإشارة إلى العناصر من هذه المصفوفة.

**مثال:**

لهذا الطلب

```
GET /login/index.php HTTP/1.1
Connection: keep-alive
Host: example.com
Accept-encoding: gzip
```

يشير فلتر الرأس إلى الجدول التجزئي التالي:

| اسم الرأس     | القيمة       |
|-----------------|-------------|
| Connection      | keep-alive  |
| Host            | example.com |
| Accept-Encoding | gzip        |

* تشير النقطة `HEADER_Connection_value` إلى القيمة `keep-alive` التي تتطابق مع رأس `Connection` من الجدول التجزئي الذي يشير إليه فلتر الرأس.
* تشير النقطة `HEADER_Host_value` إلى القيمة `example.com` التي تتطابق مع رأس `Host` من الجدول التجزئي الذي يشير إليه فلتر الرأس.
* تشير النقطة `HEADER_Accept-Encoding_value` إلى القيمة `gzip` التي تتطابق مع رأس `Accept-Encoding` من الجدول التجزئي الذي يشير إليه فلتر الرأس.



## فلتر المنشور

يشير فلتر **المنشور** إلى محتوى جسم الطلب.

يمكن استخدام اسم فلتر المنشور في النقطة للتعامل مع محتوى جسم الطلب بالتنسيق الخام.

**مثال:**

لهذا الطلب

```
POST http://example.com/main/index.php HTTP/1.1
Content-Type: text/plain
Content-Length: 28
```

مع جسم

```
This is a simple body text.
```

تشير النقطة `POST_value` إلى القيمة `This is a simple body text.` من جسم الطلب.

يمكنك أيضًا التعامل مع جسم الطلب الذي يحتوي على الهياكل البيانية المعقدة. استخدم الفلاتر والمحللات التالية في النقطة بعد فلتر المنشور للإشارة إلى العناصر من الهياكل البيانية المتناظرة: 
* محلل [Form_urlencoded][link-formurlencoded] لجسم الطلب بتنسيق **form-urlencoded**
* محلل [Multipart][link-multipart] لجسم الطلب بتنسيق **multipart**
* [الفلاتر التي يقدمها محلل XML][link-xml] لجسم الطلب بتنسيق **XML**
* [الفلاتر التي يقدمها محلل Json_doc][link-json] لجسم الطلب بتنسيق **JSON**