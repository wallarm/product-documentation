[link-ruby]:        http://ruby-doc.org/core-2.6.1/doc/regexp_rdoc.html
[link-yaml]:        https://yaml.org/spec/1.2/spec.html

# مبادئ بناء النقاط

!!! warning "كلمات محجوزة"
    يُرجى عدم استخدام الأسماء والمفاتيح التالية لعناصر الطلب الأساسية لمنع التعارض مع الكلمات المحجوزة:
        
    * الأسماء والمفاتيح التي تطابق أسماء المحللات
    * الأسماء والمفاتيح التي تطابق أسماء الفلاتر
    * الأسماء والمفاتيح التي تطابق كلمات الخدمة `name` و `value` 

هناك عدة مبادئ عامة لبناء النقاط يجب الأخذ بها عند تطوير امتداد مخصص.

* جميع النقاط يتم معاملتها كتعبيرات منتظمة.
    
    **مثال:**

    * نقطة `HEADER_A.*_value` تشير إلى العنوان الذي يبدأ اسمه بـ `A` إذا كان مثل هذا العنوان موجودًا في الطلب.
    * نقطة `PATH_\d_value` تشير إلى أول 10 أجزاء من مسار URI الخاص بالطلب.

* يجب تقسيم أجزاء النقطة باستخدام رمز `_`.
    
    **مثال:** 
    
    `URI_value`.

* يجب إضافة أسماء المحللات والفلاتر إلى النقطة بأحرف كبيرة.
    
    **مثال:** 
    
    `ACTION_EXT_value`.

* يجب إضافة أسماء عناصر الطلب إلى النقطة بنفس الطريقة تمامًا كما تظهر في الطلب الأساسي.
    
    **مثال:** 
    
    لطلب `GET http://example.com/login/?Uid=01234`، نقطة `GET_Uid_value` تشير إلى معامل الاستعلام `Uid`.
    
    !!! info "الهروب من الرموز الخاصة"
        قد تتطلب بعض الرموز الخدمية الهروب عند استخدامها في النقاط. للحصول على معلومات مفصلة، يُرجى الانتقال إلى وثائق [لغة البرمجة Ruby للتعبيرات النظامية][link-ruby].

* يمكن وضع النقطة في الامتداد بالطرق التالية:
    * محاطة برموز `"`.
        
        **مثال:** 
        
        `"PATH_.*_value"`.
    
    * محاطة برموز `'`.
        
        **مثال:** 
        
        `'GET_.*_value'`.
    
    * غير محاطة بأي رموز.
        
        **مثال:** 
        
        `HEADER_.*_value`.
    
    !!! info "تحيط النقاط برموز"
        تُحدد نحو يامل (YAML) الفرق بين استخدام رموز مختلفة لتحيط النقاط. للحصول على معلومات مفصلة، يُرجى الانتقال إلى هذا [الرابط][link-yaml].

* النقاط المقسمة برمز `,` والمحاطة بالرموز `[` و `]` يتم معاملتها كمصفوفة من النقاط.
    
    **مثال:** 
    
    `[GET_uid_value, GET_passwd_value]`.

* يجب أن تكون كلمة الخدمة موجودة دائمًا في نهاية النقطة للدلالة على ما إذا كان يجب على الامتداد التعامل مع اسم عنصر الطلب أو قيمته. 
    * يجب تحديد كلمة الخدمة `name` للتعامل مع اسم عنصر الطلب.
        
        يمكن استخدام كلمة الخدمة `name` مع الفلاتر التالية:
        
        * Xml_pi؛
        * Xml_dtd_entity.
        
        **مثال:** 
        
        نقطة `POST_XML_XML_DTD_ENTITY_0_name` تشير إلى اسم أول توجيه مخطط DTD المحدد في بيانات XML في جسد الطلب.
    
    * يجب تحديد كلمة الخدمة `value` للتعامل مع قيمة عنصر الطلب.
        
        يمكن استخدام كلمة الخدمة `value` مع أي من فلاتر ومحللات FAST DSL المتاحة.
        
        **مثال:** 
        
        نقطة `PATH_0_value` تشير إلى قيمة أول جزء مسار URI للطلب.