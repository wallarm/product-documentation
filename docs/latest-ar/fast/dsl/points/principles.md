[link-ruby]:        http://ruby-doc.org/core-2.6.1/doc/regexp_rdoc.html
[link-yaml]:        https://yaml.org/spec/1.2/spec.html

# مبادئ بناء النقاط

!!! warning "الكلمات المحجوزة"
    يجب عدم استخدام الأسماء والمفاتيح التالية لعناصر الطلب الأساسية لتجنب التعارض مع الكلمات المحجوزة:
        
    * الأسماء والمفاتيح التي تطابق أسماء المحللين
    * الأسماء والمفاتيح التي تطابق أسماء الفلاتر
    * الأسماء والمفاتيح التي تطابق كلمات الخدمة `name` و `value`

هناك عدة مبادئ عامة لبناء النقاط يجب مراعاتها عند تطوير ملحق مخصص.

* يتم معاملة جميع النقاط كتعبيرات نظامية.
    
    **مثال:**

    * تشير النقطة `HEADER_A.*_value` إلى الرأس الذي يبدأ اسمه ب `A` إذا كان موجودًا في الطلب.
    * تشير النقطة `PATH_\d_value` إلى الأجزاء العشرة الأولى من مسار URI الخاص بالطلب.

* يجب تقسيم أجزاء النقطة باستخدام رمز `_`.
    
    **مثال:** 
    
    `URI_value`.

* يجب إضافة أسماء المحللين والفلاتر إلى النقطة بأحرف كبيرة.
    
    **مثال:** 
    
    `ACTION_EXT_value`.

* يجب إضافة أسماء عناصر الطلب إلى النقطة بنفس الطريقة التي تظهر بها في الطلب الأساسي.
    
    **مثال:** 
    
    بالنسبة للطلب `GET http://example.com/login/?Uid=01234`، تشير النقطة `GET_Uid_value` إلى معامل الاستعلام `Uid`.
    
    !!! info "تجاوز الرموز الخاصة"
        قد تتطلب بعض الرموز الخدمية تجاوزاً عند استخدامها في النقاط. للحصول على معلومات تفصيلية، تابع إلى التوثيق على [تعابير اللغة البرمجية Ruby النظامية][link-ruby].

* يمكن وضع نقطة داخل الملحق بالطرق التالية:
    * محاطة برموز `"`.
        
        **مثال:** 
        
        `"PATH_.*_value"`.
    
    * محاطة برموز `'`.
        
        **مثال:** 
        
        `'GET_.*_value'`.
    
    * غير محاطة بأي رموز.
        
        **مثال:** 
        
        `HEADER_.*_value`.
    
    !!! info "تحيط النقاط برموز"
        تحدد صياغة YAML الفرق بين استخدام الرموز المختلفة لتحيط النقاط. للحصول على معلومات تفصيلية، تابع إلى هذا [الرابط][link-yaml].

* النقاط المقسمة برمز `,` والمحاطة بالرموز `[` و `]` يتم معاملتها كمصفوفة نقاط.
    
    **مثال:** 
    
    `[GET_uid_value, GET_passwd_value]`.

* يجب أن تكون كلمة الخدمة موجودة دائمًا في نهاية النقطة للدلالة على ما إذا كان يجب أن يعمل الملحق مع اسم أو قيمة عنصر الطلب.
    * يجب تحديد كلمة الخدمة `name` للعمل مع اسم عنصر الطلب.
        
        يمكن استخدام كلمة الخدمة `name` مع الفلاتر التالية:
        
        * Xml_pi؛
        * Xml_dtd_entity.
        
        **مثال:** 
        
        تشير النقطة `POST_XML_XML_DTD_ENTITY_0_name` إلى اسم أول توجيه مخطط DTD المحدد في بيانات XML في جسم الطلب.
    
    * يجب تحديد كلمة الخدمة `value` للعمل مع قيمة عنصر الطلب.
        
        يمكن استخدام كلمة الخدمة `value` مع أي من فلاتر ومحللي FAST DSL المتاحين.
        
        **مثال:** 
        
        تشير النقطة `PATH_0_value` إلى قيمة الجزء الأول من مسار URI الخاص بالطلب.