# تنفيذ عقدة وولارم بصورة مباشرة

يمكن نشر وولارم بصورة مباشرة لتخفيف التهديدات في الوقت الفعلي. في هذه الحالة، يمر الحركة المرورية إلى واجهات برمجة التطبيقات المحمية عبر عقد وولارم قبل أن تصل إلى API. لا يوجد فرصة لمهاجم لتجاوز عقد وولارم طالما أنهم على الخط وهم الطريق المتاح الوحيد للمستخدمين النهائيين. هذا المقال يشرح الطريقة بالتفصيل.

تجلس عقد وولارم بين العميل والخوادم، تحلل الحركة الواردة، تخفف الطلبات الخبيثة، وتوجه الطلبات الشرعية إلى الخادم المحمي.

## حالات الاستخدام

الحل وولارم المباشر مناسب للحالات الاستخدام التالية:

* تخفيف الطلبات الخبيثة مثل SQli، XSS injections، إساءة استخدام API، قوة برية قبل أن تصل إلى خادم التطبيق.
* الحصول على معرفة بنقاط الضعف الأمنية النشطة في نظامك وتطبيق التصحيحات الافتراضية قبل إصلاح كود التطبيق.
* مراقبة جرد API وتتبع البيانات الحساسة.

## المزايا والمتطلبات الخاصة

يوفر نهج التنفيذ المباشر لنشر وولارم العديد من المزايا مقارنة بطرق التنفيذ الأخرى، مثل نشر [OOB](../oob/overview.md):

* وولارم يحجب الطلبات الخبيثة على الفور حيث تتم عملية تحليل الحركة في الزمن الفعلي.
* جميع ميزات وولارم، بما في ذلك [اكتشاف API](../../api-discovery/overview.md) و[كشف الضعف](../../about-wallarm/detecting-vulnerabilities.md) تعمل بدون قيود كما أن لدى وولارم الوصول إلى كل من الطلبات الواردة وردود الخادم.

لتطبيق مخطط مباشر، ستحتاج إلى تغيير مسار الحركة المرورية في بنيتك التحتية. بالإضافة إلى ذلك، ضع في اعتبارك بعناية [تخصيص الموارد](../../admin-en/configuration-guides/allocate-resources-for-node.md) لعقد وولارم لضمان الخدمة دون انقطاع.

عند نشر عقد وولارم على السحابات العامة مثل AWS أو GCP للبيئات الإنتاجية يُطلب استخدام مجموعة توسع تلقائي مُعدة بشكل صحيح للأداء الأمثل والقابلية للتوسع والمرونة (راجع المقالات لـ [AWS](../../admin-en/installation-guides/amazon-cloud/autoscaling-overview.md) أو [GCP](../../admin-en/installation-guides/google-cloud/autoscaling-overview.md)).

## نماذج التنفيذ وطرق التنفيذ المدعومة

عندما يتعلق الأمر بنشر وولارم بصورة مباشرة، هناك نموذجين شائعين يجب النظر فيهما: نشر الحوسبة ونشر كوبرنيتس.

يمكنك اختيار نموذج وطريقة التنفيذ بناءً على خصائص بنيتك التحتية. إذا كنت بحاجة إلى مساعدة في اختيار النموذج وطريقة التنفيذ المناسبين، فلا تتردد في الاتصال بـ [فريق المبيعات لدينا](mailto:sales@wallarm.com) وزوّدهم بمعلومات إضافية عن بنيتك التحتية للحصول على التوجيه المصمم خصيصًا لك.

### تشغيل وولارم على حالات الحوسبة

في هذا النموذج، تنشر وولارم كجهاز افتراضي ضمن بنيتك التحتية. يمكن تثبيت الجهاز الافتراضي كـ VM، حاوية، أو حالة سحابية.

عند نشر عقدة وولارم، لديك المرونة في تحديد موقعها في أماكن مختلفة ضمن توبولوجيا الشبكة لديك. ومع ذلك، النهج الموصى به هو وضع العقدة خلف موازن حمل عام، أمام خدمات الخلفية لديك، أو موازن حمل خاص، يقع عادةً قبل خدمات الخلفية. يوضح الرسم التخطيطي التالي تدفق الحركة المرورية المعتاد في هذا الإعداد:

![مخطط التصفية المباشرة](../../images/waf-installation/inline/wallarm-inline-deployment-scheme.png)

يمكن تصنيف موازنات الحمل إلى نوعين: L4 و L7. نوع موازن الحمل يحدد كيفية التعامل مع تحميل SSL، وهو أمر حاسم عند دمج وولارم في بنيتك التحتية القائمة.

* إذا كنت تستخدم موازن حمل من النوع L4، عادةً ما يتم التعامل مع تحميل SSL من قبل خادم ويب موضوع خلف موازن الحمل أو من خلال وسائل أخرى في بنيتك التحتية دون عقدة وولارم. ومع ذلك، عند نشر عقدة وولارم، تحتاج إلى تكوين تحميل SSL على عقدة وولارم.
* إذا كنت تستخدم موازن حمل من النوع L7، عادةً ما يتم التعامل مع تحميل SSL من قبل موازن الحمل نفسه، وستتلقى عقدة وولارم HTTP عادي.

وولارم يقدم الأصول والحلول التالية لتشغيل وولارم على حالات الحوسبة:

**خدمات ويب أمازون (AWS)**

* [AMI](compute-instances/aws/aws-ami.md)
* [ECS](compute-instances/aws/aws-ecs.md)
* وحدة Terraform:
    * [بروكسي في AWS VPC](compute-instances/aws/terraform-module-for-aws-vpc.md)
    * [بروكسي لبوابة أمازون API](compute-instances/aws/terraform-module-for-aws-api-gateway.md)

**منصة جوجل السحابية (GCP)**

* [صورة الآلة](compute-instances/gcp/machine-image.md)
* [GCE](compute-instances/gcp/gce.md)

**مايكروسوفت أزور**

* [حالات حاوية أزور](compute-instances/azure/docker-image.md)

**سحابة علي بابا**

* [ECS](compute-instances/alibaba/docker-image.md)

**صور دوكر**

* [مبني على NGINX](compute-instances/docker/nginx-based.md)
* [مبني على Envoy](compute-instances/docker/envoy-based.md)

**حزم لينكس**

* [حزم فردية لـ NGINX المستقر](compute-instances/linux/individual-packages-nginx-stable.md)
* [حزم فردية لـ NGINX Plus](compute-instances/linux/individual-packages-nginx-plus.md)
* [حزم فردية لـ NGINX المقدم من التوزيعة](compute-instances/linux/individual-packages-nginx-distro.md)
* [مثبت شامل](compute-instances/linux/all-in-one.md)

### تشغيل وولارم على كوبرنيتس

إذا كنت تستخدم كوبرنيتس لتنسيق الحاويات، يمكن نشر وولارم كحل أصلي لكوبرنيتس. يدمج بسلاسة مع عناقيد كوبرنيتس، مستفيدًا من ميزات مثل ingress أو متحكمات الجانبية.

وولارم يقدم الأصول والحلول التالية لتشغيل وولارم على كوبرنيتس:

* [متحكم دخول NGINX](../../admin-en/installation-kubernetes-en.md)
* [متحكم دخول Kong](../kubernetes/kong-ingress-controller/deployment.md)
* [متحكم الجانبية](../kubernetes/sidecar-proxy/deployment.md)