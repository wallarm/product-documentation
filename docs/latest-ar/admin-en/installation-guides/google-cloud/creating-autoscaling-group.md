[img-creating-instance-group]:          ../../../images/installation-gcp/auto-scaling/common/autoscaling-group-guide/create-instance-group.png
[img-create-instance-group-example]:    ../../../images/installation-gcp/auto-scaling/common/autoscaling-group-guide/create-scalable-instance-group.png
[img-checking-nodes-operation]:         ../../../images/cloud-node-status.png

[link-cpu-usage-policy]:                            https://cloud.google.com/compute/docs/autoscaler/scaling-cpu-load-balancing
[link-http-load-balancing-policy]:                  https://cloud.google.com/compute/docs/autoscaler/scaling-cpu-load-balancing#scaling_based_on_https_load_balancing_serving_capacity
[link-stackdriver-monitoring-metric-policy]:        https://cloud.google.com/compute/docs/autoscaler/scaling-stackdriver-monitoring-metrics
[link-multiple-metrics-policy]:                     https://cloud.google.com/compute/docs/autoscaler/multiple-policies
[link-creating-load-balancer]:                      load-balancing-guide.md

# إنشاء مجموعة نماذج مُدارة مع تمكين التوسيع التلقائي

لإنشاء مجموعة نماذج مُدارة وتكوين التوسيع التلقائي لها، اتبع الخطوات التالية:

1. انتقل إلى صفحة **مجموعات النماذج** في قسم **Compute Engine** من القائمة واضغط على زر **إنشاء مجموعة نماذج**.

   ![إنشاء مجموعة نموذج][img-creating-instance-group]

2. أدخل اسم المجموعة في حقل **الاسم**.

3. اختر **مجموعة نماذج مُدارة** في إعداد **نوع المجموعة**.

4. مكّن التوسيع التلقائي للمجموعة عبر اختيار خيار **التشغيل** من قائمة **التوسيع التلقائي** المنسدلة.

5. اختر سياسة التوسيع المطلوبة من قائمة **سياسة التوسيع التلقائي** المنسدلة.
   
   تحتوي سياسات التوسيع على قواعد لزيادة وتقليل حجم المجموعة. يحدد النظام متى يجب إضافة أو إزالة نموذج من المجموعة للحفاظ على المقياس الذي تستند إليه السياسة عند المستوى المستهدف الذي حدده المستخدم.
   
   يمكنك اختيار واحدة من السياسات التالية:
   
   1. استخدام وحدة المعالجة المركزية: يتم التحكم في حجم المجموعة للحفاظ على متوسط حمل المعالج للآلات الافتراضية في المجموعة عند المستوى المطلوب ([وثائق سياسة استخدام وحدة المعالجة المركزية][link-cpu-usage-policy]).
   2. استخدام توازن التحميل HTTP: يتم التحكم في حجم المجموعة للحفاظ على تحميل موزع الترافيك HTTP عند المستوى المطلوب ([وثائق سياسة استخدام توازن التحميل HTTP][link-http-load-balancing-policy]).
   3. مقياس رصد Stackdriver: يتم التحكم في حجم المجموعة للحفاظ على المقياس المختار من أداة رصد Stackdriver عند المستوى المطلوب ([وثائق سياسة مقياس رصد Stackdriver][link-stackdriver-monitoring-metric-policy]).
   4. مقاييس متعددة: يتم اتخاذ قرار بتغيير حجم المجموعة على أساس مقاييس متعددة ([وثائق سياسات المقاييس المتعددة][link-multiple-metrics-policy]).
   
   يستخدم هذا الدليل سياسة **استخدام وحدة المعالجة المركزية** لتوضيح مبادئ العمل مع آلية التوسيع التلقائي.
   
   لتطبيق هذه السياسة، حدد المستوى المطلوب لمتوسط حمل المعالجات في حقل **استهداف استخدام الشعيرات** (بالنسب المئوية).
   
   !!! info "مثال"
       يصف التكوين التالي التحكم في حجم مجموعة النماذج للحفاظ على متوسط حمل معالجات الآلات الافتراضية عند مستوى 60 في المئة.
       ![مثال: إنشاء مجموعة نماذج][img-create-instance-group-example]

6. حدد الحد الأدنى لحجم مجموعة النماذج في حقل **الحد الأدنى لعدد النماذج** (مثلاً، نموذجين).

7. حدد الحد الأقصى لحجم مجموعة النماذج في حقل **الحد الأقصى لعدد النماذج** (مثلاً، 10 نماذج).

8. حدد الفترة الزمنية التي يجب ألا تُسجل فيها قيم المقاييس من النموذج المُضاف حديثًا في حقل **فترة الهدوء** (مثلاً، 60 ثانية). قد يكون هذا ضروريًا إذا لاحظت قفزات في استهلاك الموارد بعد إضافة نموذج جديد.

   !!! info "متطلبات فترة الهدوء"
       يجب أن تكون فترة الهدوء أطول من الوقت المطلوب للتهيئة النموذج.

9. تأكد من تكوين جميع معايير مجموعة النماذج بشكل صحيح ثم اضغط على زر **إنشاء**.

سيتم إطلاق العدد المحدد من النماذج تلقائيًا عند إنشاء مجموعة التوسيع التلقائي بنجاح.

يمكنك التحقق من إنشاء مجموعة التوسيع التلقائي بشكل صحيح عبر عرض عدد النماذج المُطلقة في المجموعة ومقارنة هذه البيانات مع عدد العقد المرشحة المتصلة بـ Wallarm Cloud.

يمكنك القيام بذلك باستخدام واجهة استخدام Wallarm Console. على سبيل المثال، إذا كانت نموذجين مع عقد ترشيح تعملان في نفس الوقت، ستعرض واجهة Wallarm هذا العدد للعقدة Wallarm المقابلة في قسم **العقد**.

![علامة التبويب **العقد** في واجهة ويب Wallarm][img-checking-nodes-operation]

يمكنك الآن المتابعة مع [إنشاء وتكوين موزع تحميل][link-creating-load-balancer].