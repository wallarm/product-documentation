# إنشاء مجموعة نماذج مُدارة مع تمكين التوسيع التلقائي

لإنشاء مجموعة نماذج مُدارة وتكوين توسيعها التلقائي، اتبع الخطوات التالية:

1.  انتقل إلى صفحة **مجموعات النماذج** في قسم **Compute Engine** من القائمة واضغط على زر **إنشاء مجموعة نماذج**.

    ![إنشاء مجموعة نماذج][img-creating-instance-group]

2.  أدخل اسم مجموعة النماذج في حقل **الاسم**.

3.  اختر **مجموعة نماذج مُدارة** في إعداد **نوع المجموعة**.

4.  فعّل التوسيع التلقائي لمجموعة النماذج بتحديد خيار **تشغيل** من قائمة **التوسيع التلقائي** المنسدلة.

5.  اختر سياسة التوسيع المطلوبة من قائمة **سياسة التوسيع التلقائي** المنسدلة.
    
    تحتوي سياسات التوسيع على قواعد لزيادة وتقليص حجم مجموعة النماذج. يحدد النظام متى يجب إضافة أو إزالة نموذج من المجموعة للحفاظ على المقاييس التي تستند إليها السياسة عند المستوى المستهدف الذي حدده المستخدم.
    
    يمكنك اختيار واحدة من السياسات التالية:
    
    1.  استخدام وحدة المعالجة المركزية: يتم التحكم في حجم المجموعة للحفاظ على متوسط حمل المعالج للآلات الافتراضية في المجموعة عند المستوى المطلوب ([وثائق سياسة استخدام وحدة المعالجة المركزية][link-cpu-usage-policy]).
    2.  استخدام توازن تحميل HTTP: يتم التحكم في حجم المجموعة للحفاظ على حمل موازن التحميل لحركة مرور HTTP عند المستوى المطلوب ([وثائق سياسة استخدام توازن تحميل HTTP][link-http-load-balancing-policy]).
    3.  مقياس رصد Stackdriver: يتم التحكم في حجم المجموعة للحفاظ على المقياس المختار من أداة رصد Stackdriver عند المستوى المطلوب ([وثائق سياسة مقياس رصد Stackdriver][link-stackdriver-monitoring-metric-policy]).
    4.  عدة مقاييس: يتم اتخاذ قرار بتغيير حجم المجموعة على أساس عدة مقاييس ([وثائق سياسة عدة مقاييس][link-multiple-metrics-policy]). 
    
    يستخدم هذا الدليل سياسة **استخدام وحدة المعالجة المركزية** لعرض مبادئ العمل مع آلية التوسيع التلقائي.
    
    لتطبيق هذه السياسة، حدد مستوى الحمل الوسطي المطلوب لمعالجات الآلات الافتراضية في حقل **استهداف استخدام وحدة المعالجة المركزية** (بالنسب المئوية).
    
    !!! info "مثال"
        يصف التكوين التالي التحكم في حجم مجموعة النماذج للحفاظ على متوسط حمل معالجات الآلات الافتراضية عند مستوى 60 بالمئة.
        ![مثال: إنشاء مجموعة نماذج][img-create-instance-group-example]

6.  حدد الحد الأدنى لحجم مجموعة النماذج في حقل **الحد الأدنى لعدد النماذج** (مثلاً، نموذجين).

7.  حدد الحد الأقصى لحجم مجموعة النماذج في حقل **الحد الأقصى لعدد النماذج** (مثلاً، 10 نماذج).

8.  حدد الفترة الزمنية التي لا يجب تسجيل قيم المقاييس خلالها من النموذج الذي تمت إضافته حديثًا في حقل **فترة التبريد** (مثلاً، 60 ثانية). قد يكون هذا ضروريًا إذا كنت تلاحظ قفزات في استهلاك الموارد بعد إضافة نموذج جديد.

    !!! info "متطلبات فترة التبريد"
        يجب أن تكون فترة التبريد أطول من الوقت المطلوب لتهيئة النموذج.

9.  تأكد من تكوين جميع معايير مجموعة النماذج بشكل صحيح ثم اضغط على زر **إنشاء**.

سيتم تشغيل العدد المحدد من النماذج تلقائيًا عند إنشاء مجموعة التوسيع التلقائي بنجاح.

يمكنك التحقق من إنشاء مجموعة التوسيع التلقائي بشكل صحيح من خلال عرض عدد النماذج التي تم تشغيلها في المجموعة ومقارنة هذه النقطة البيانية بعدد العقد المرشحة المتصلة بـ Wallarm Cloud.

يمكنك القيام بذلك باستخدام واجهة ويب Wallarm Console. على سبيل المثال، إذا كان نموذجان مع عقد تصفية يعملان بالتزامن، ستعرض واجهة Wallarm Console هذا العدد لعقدة Wallarm المقابلة في قسم **العقد**.

![علامة التبويب **العقد** على واجهة ويب Wallarm][img-checking-nodes-operation]

يمكنك الآن المتابعة مع [إنشاء وتكوين موازن التحميل][link-creating-load-balancer].