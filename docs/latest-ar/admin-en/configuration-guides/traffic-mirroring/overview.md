# تصفية المرور المعكوس

إحدى طرق نشر وحدة الجدار هي نهج قائم على الأساس المتزامن لتصفية حركة المرور الـHTTP المعكوسة. هذا المقال يوجّهك حول الإعداد المطلوب لتنفيذ هذا النشر ويقدم بعض الأمثلة.

تمكّن تقنية مرايا المرور من إرسال حركة المرور الواردة الأصلية إلى عدة خوادم خلفية بالتوازي. تثبيت وحدة الجدار كخادم خلفي إضافي يتيح لك تشغيل تصفية نسخة المرايا للمرور دون التأثير على العملاء - أي طلبات واردة ستصل إلى الخوادم الموجهة إليها.

فيما يلي مثال على مخطط تدفق المرور بخيار المرايا مفعل:

![مخطط المرايا](../../../images/waf-installation/aws/terraform/wallarm-for-mirrored-traffic.png)

## حالات استخدام النهج 

تثبيت وحدة الجدار لتصفية المرور المعكوس مفيد لـ:

* التأكد من أن الحل الأمني لن يؤثر على أداء التطبيق.
* تدريب حل الجدار على نسخة المرور قبل تشغيل الوحدة على النظام الإنتاجي.

## قيود تصفية المرور المعكوس

على الرغم من أمان نهج النشر، إلا أن هناك بعض القيود:

* فقط وحدات الجدار المبنية على NGINX تدعم تصفية المرور المعكوس.
* وحدة الجدار لا تحظر الطلبات الخبيثة على الفور بما أن تحليل المرور يجري بغض النظر عن تدفق المرور الفعلي.
* الجدار لا يكتشف [الثغرات الأمنية](../../../about-wallarm/detecting-vulnerabilities.md) في التطبيق و API بما أن الوحدة لديها فقط نسخ من الطلبات الواردة، ولا يمكن مرآة استجابات الخادم.
* الحل يتطلب عنصرًا إضافيًا - الخادم الويب الذي يقدم مرآة المرور أو أداة مماثلة (مثل NGINX، Envoy، Istio، Traefik، وحدة Kong المخصصة، إلخ).

## الإعداد

لتنفيذ الجدار لتصفية المرور المعكوس:

1. قم بتهيئة خادم الويب الخاص بك لمرآة حركة المرور الواردة إلى خلفية إضافية.
1. [ثبت](../../../installation/supported-deployment-options.md) وحدة الجدار كخادم خلفي إضافي وقم بتكوينها لتصفية المرور المعكوس.

تصفية المرور مدعومة من قبل العديد من خوادم الويب. داخل الروابط التالية، ستجد **تكوين المثال** لأشهرها:

* [NGINX](nginx-example.md)
* [Traefik](traefik-example.md)
* [Envoy](envoy-example.md)
* [Istio](istio-example.md)