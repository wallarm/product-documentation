# تمكين التحقق من التهديدات النشطة عالميًا أو لنقاط نهاية محددة <a href="../../../about-wallarm/subscription-plans/#subscription-plans"><img src="../../../images/api-security-tag.svg" style="border: none;"></a>

يمكن تمكين وحدة [التحقق من التهديدات النشطة](overview.md) من Wallarm إما على مستوى العالم، لتؤثر على جميع نقاط النهاية حيث يتم إعداد عقدة التصفية، أو بشكل فردي لنقاط نهاية محددة. توفر هذه المقالة تعليمات حول إدارة سلوك الوحدة.

## تمكين الوحدة عالميًا

التحقق من التهديدات النشط معطل بشكل افتراضي. لتمكينه عالميًا:

1. تأكد من امتلاكك لخطة اشتراك نشطة في **أمن واجهة برمجة التطبيقات المتقدم** [خطة الاشتراك](../../about-wallarm/subscription-plans.md#subscription-plans). الوحدة متوفرة فقط تحت هذه الخطة.

    إذا كنت على خطة مختلفة، يُرجى الاتصال بـ[فريق المبيعات](mailto:sales@wallarm.com) للانتقال إلى الخطة المطلوبة.
1. انتقل إلى لوحة تحكم Wallarm → **الثغرات الأمنية** → **تكوين** من خلال الرابط لـ[السحابة الأمريكية](https://us1.my.wallarm.com/vulnerabilities/active?configure=true) أو [السحابة الأوروبية](https://my.wallarm.com/vulnerabilities/active?configure=true)، وقم بتبديل تفعيل **التحقق من التهديدات النشطة**.

هذا الإجراء يمكن الوحدة لجميع الموارد حيث يتم تكوين عقدة التصفية.

![!إعدادات فحص الثغرات](../../images/user-guides/vulnerabilities/vuln-scan-settings.png)

## التحكم في وضع الوحدة لنقاط نهاية محددة

بمجرد تمكين الوحدة [عالميًا](#enabling-the-module-globally)، يمكنك تخصيص سلوكها لنقاط نهاية محددة باستخدام القاعدة المناسبة. إليك كيفية القيام بذلك:

1. انتقل إلى لوحة تحكم Wallarm → **القواعد** → إنشاء قاعدة **تعيين وضع التحقق من التهديدات النشطة**.
1. املأ استمارة إنشاء القاعدة وفقًا للتعليمات:

    * **إذا كانت الطلبية** [تُحدد](../../user-guides/rules/rules.md#rule-branches) نقاط النهاية التي يجب تطبيق القاعدة عليها.
    * **تعطيل / تمكين** يحدد وضع الوحدة للهجمات المرسلة إلى نقاط النهاية المحددة.

    استخدم إعداد **تمكين** لعمل استثناءات لقاعدة تعطيل الوحدة (مثلاً، التمكين لـ `https://example.com/module/user/create` بينما يتم تعطيله لـ `https://example.com/module/user/*`).
1. انتظر حتى [اكتمال تجميع مجموعة القواعد المخصصة](../../user-guides/rules/rules.md#ruleset-lifecycle).

### تمكين الوحدة لنقاط نهاية محددة

لتمكين الوحدة لنقاط نهاية محددة فقط:

1. قم بتمكين الوحدة عالميًا في لوحة تحكم Wallarm → **الثغرات الأمنية** → **تكوين**.
1. قم بتعطيل الوحدة لجميع نقاط النهاية من خلال إنشاء قاعدة **تعيين وضع التحقق من التهديدات النشطة** وترك جزء **إذا كانت الطلبية** فارغًا.
1. إنشاء قواعد **تعيين وضع التحقق من التهديدات النشطة** لتمكين الوحدة لمضيفين محددين، تطبيقات، أو نقاط نهاية من خلال وصفها في جزء **إذا كانت الطلبية**.

إليك كيفية ظهور القاعدة عند تعطيل الوحدة لجميع نقاط النهاية:

![!مثال على القاعدة "تعيين وضع التحقق من التهديدات النشطة"](../../images/user-guides/rules/disable-atv-for-all-endpoints.png)

إذا كانت القاعدة المذكورة أعلاه نشطة بالفعل، فسيمكن القاعدة التالية الوحدة لـ `https://example.com/module/user/create`:

![!مثال على القاعدة "تعيين وضع التحقق من التهديدات النشطة"](../../images/user-guides/rules/disable-active-threat-verification-deeper-path-example.png)

بديلاً، يمكنك تعطيل الوحدة من خلال تطبيق قاعدة للرابط ثم تمكينه لنقاط نهاية معينة ذات صلة بهذا الرابط.

### تعطيل الوحدة لنقاط نهاية محددة

بالنسبة لنقاط النهاية بدون بيئة مرحلة التجربة، خاصةً تلك التي ليست متطابقة مع التنفيذ أو تفتقر إلى آلية التوثيق، يُوصى بتعطيل إعادة تشغيل الهجمات. دون هذه الضمانات، قد تكرر الوحدة عن غير قصد التصرفات الضارة، مثل معالجة المعاملات المالية عدة مرات أو إنشاء حسابات جديدة بشكل متكرر.

لتعطيل الوحدة لنقاط نهاية محددة:

1. قم بتمكين الوحدة عالميًا في لوحة تحكم Wallarm → **الثغرات الأمنية** → **تكوين**.
1. قم بتعطيل الوحدة لنقاط النهاية المطلوبة باستخدام قاعدة **تعيين وضع التحقق من التهديدات النشطة**. قم بوصف هذه النقاط في جزء **إذا كانت الطلبية**.

خذ بعين الاعتبار نقطة نهاية غير متطابقة مع التنفيذ مثل POST `https://example.com/api/purchase` على منصة تسوق عبر الإنترنت تتولى مهام مثل خصم المخزون وتحميل حسابات المستخدمين. إذا تم تكرار هذا الإجراء عن طريق الوحدة عن غير قصد، قد يؤدي ذلك إلى عواقب مثل الخصم المتعدد لعنصر واحد. لذلك، بالنسبة لهذه النقاط في بيئة الإنتاج، يُوصى بتعطيل إعادة تشغيل الهجمات. بالنسبة لمثل هذه النقطة، ستبدو القاعدة كما يلي:

![!مثال على القاعدة "تعيين وضع التحقق من التهديدات النشطة"](../../images/user-guides/rules/disable-atv-for-non-indemponent-end.png)