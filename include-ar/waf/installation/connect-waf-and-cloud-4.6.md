تتفاعل عقدة تصفية وولارم مع سحابة وولارم. يلزم ربط العقدة بالسحابة.

عند ربط العقدة بالسحابة، يمكنك تحديد اسم العقدة، الذي سيتم عرضه في واجهة مستخدم لوحة التحكم وولارم ووضع العقدة ضمن **مجموعة عُقد** معينة (تُستخدم لتنظيم العُقد بشكل منطقي في واجهة المستخدم).

![عُقد مجمعة][img-grouped-nodes]

لربط العقدة بالسحابة، استخدم رمز وولارم من [النوع المناسب][wallarm-token-types]:

=== "رمز API"

    1. افتح واجهة وولارم → **الإعدادات** → **رموز API** في [السحابة الأمريكية](https://us1.my.wallarm.com/settings/api-tokens) أو [السحابة الأوروبية](https://my.wallarm.com/settings/api-tokens).
    1. ابحث أو أنشئ رمز API بدور مصدر `نشر`.
    1. انسخ هذا الرمز.
    1. تشغيل سكربت `register-node` على الآلة التي تقوم بتثبيت عقدة التصفية عليها:

        === "السحابة الأمريكية"
            ``` bash
            sudo /usr/share/wallarm-common/register-node -t <TOKEN> --labels 'group=<GROUP>' -H us1.api.wallarm.com
            ```
        === "السحابة الأوروبية"
            ``` bash
            sudo /usr/share/wallarm-common/register-node -t <TOKEN> --labels 'group=<GROUP>'
            ```
        
        * `<TOKEN>` هي القيمة المنسوخة لرمز API بدور `نشر`.
        * العامل `--labels 'group=<GROUP>'` يضع عقدتك في مجموعة عُقد `<GROUP>` (موجودة، أو، إذا لم تكن موجودة، سيتم إنشاؤها). إذا كنت تركب وحدات التصفية وما بعد التحليل [بشكل منفصل][install-postanalytics-instr]، يُوصى بوضعها في نفس المجموعة.

=== "رمز العقدة"

    1. افتح واجهة وولارم → **العقد** في [السحابة الأمريكية](https://us1.my.wallarm.com/nodes) أو [السحابة الأوروبية](https://my.wallarm.com/nodes).
    1. افعل أحد الخيارات التالية: 
        * إنشاء العقدة من نوع **عقدة وولارم** ونسخ الرمز المُنشأ.
        * استخدم مجموعة عُقد موجودة - نسخ الرمز باستخدام قائمة العقدة → **نسخ الرمز**.
    1. تشغيل سكربت `register-node` على الآلة التي تقوم بتثبيت عقدة التصفية عليها:

        === "السحابة الأمريكية"
            ``` bash
            sudo /usr/share/wallarm-common/register-node -t <TOKEN> -H us1.api.wallarm.com
            ```
        === "السحابة الأوروبية"
            ``` bash
            sudo /usr/share/wallarm-common/register-node -t <TOKEN>
            ```

    * `<TOKEN>` هي القيمة المنسوخة لرمز العقدة. إذا كنت تركب وحدات التصفية وما بعد التحليل [بشكل منفصل][install-postanalytics-instr]، يُوصى بوضعها في نفس المجموعة باستخدام نفس رمز العقدة.

* يمكنك إضافة العامل `-n <HOST_NAME>` لتحديد اسم مخصص لنسخة عقدتك. سيكون اسم النسخة النهائي: `HOST_NAME_NodeUUID`.