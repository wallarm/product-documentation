الملفات التالية تحتوي على إعدادات NGINX وعقدة تصفية وولارم:

* `/etc/nginx/nginx.conf` يُعرف تشكيل NGINX
* `/etc/nginx/conf.d/wallarm.conf` يُعرف التشكيل العالمي لعقدة تصفية وولارم
* `/etc/nginx/conf.d/wallarm-status.conf` يُعرف تشكيل خدمة مراقبة عقدة التصفية

يمكنك إنشاء ملفات تشكيل خاصة بك لتحديد طريقة تشغيل NGINX ووولارم. يُنصح بإنشاء ملف تشكيل منفصل مع القسم `server` لكل مجموعة من النطاقات التي يجب معالجتها بنفس الطريقة.

لرؤية معلومات مفصلة حول العمل مع ملفات تشكيل NGINX، يرجى الانتقال إلى [التوثيق الرسمي لـNGINX](https://nginx.org/en/docs/beginners_guide.html).

تُحدد توجيهات وولارم منطق تشغيل عقدة تصفية وولارم. لرؤية قائمة توجيهات وولارم المتاحة، يرجى الانتقال إلى صفحة [خيارات تشكيل وولارم](configure-parameters-en.md).

**مثال على ملف التشكيل**

لنفترض أنك تحتاج إلى تشكيل الخادم للعمل بالشروط التالية:
* يتم معالجة حركة المرور HTTP فقط. لا يتم معالجة طلبات HTTPS.
* النطاقات التالية تتلقى الطلبات: `example.com` و `www.example.com`.
* يجب تمرير كل الطلبات إلى الخادم `10.80.0.5`.
* تُعتبر كل الطلبات الواردة أقل من 1MB في الحجم (الإعداد الافتراضي).
* معالجة طلب لا تستغرق أكثر من 60 ثانية (الإعداد الافتراضي).
* يجب أن تعمل وولارم في وضع المراقبة.
* يصل العملاء إلى عقدة التصفية مباشرة، بدون توازن تحميل HTTP وسيط.

!!! info "إنشاء ملف تشكيل"
    يمكنك إنشاء ملف تشكيل NGINX مخصص (مثلا `example.com.conf`) أو تعديل ملف التشكيل الافتراضي لـNGINX (`default.conf`).
    
    عند إنشاء ملف تشكيل مخصص، تأكد من أن NGINX يستمع إلى الاتصالات الواردة على المنفذ الحر.

لتلبية الشروط المذكورة، يجب أن يكون محتوى ملف التشكيل كالتالي:

```

    server {
      listen 80;
      listen [::]:80 ipv6only=on;

      # النطاقات التي يتم معالجة حركة المرور لها
      server_name example.com; 
      server_name www.example.com;

      # تفعيل وضع المراقبة لمعالجة حركة المرور
      wallarm_mode monitoring; 
      # wallarm_instance 1;

      location / {
        # تحديد العنوان لتوجيه الطلب
        proxy_pass http://10.80.0.5; 
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      }
    }

```