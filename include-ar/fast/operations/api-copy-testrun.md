[doc-inactivity-timeout]:           internals.md#test-run

| استدعاء API: | `POST /v1/test_run` |      |
| ------------ | ------------------- | ---- |
| التفويض: | مطلوب | يتم توفير التفويض بواسطة الرمز |
| رأس HTTP مع الرمز: | `X-WallarmAPI-Token` | يخدم لنقل قيمة الرمز إلى خادم API |
| الباراميترات: | `name` **(مطلوب)** | اسم التشغيل التجريبي |
| | `test_record_id` **(مطلوب)** | معرّف لتسجيل اختبار موجود |
|  | `desc` | وصف مفصل للتشغيل التجريبي.<br>القيمة الافتراضية: سلسلة فارغة |
|  | `file_extensions_to_exclude` | يسمح هذا الباراميتر بتحديد أنواع ملفات معينة يجب استثناؤها من عملية التقييم أثناء الاختبار. يتم تحديد أنواع الملفات هذه بواسطة التعبير النظامي.<br>على سبيل المثال، إذا قمت بتعيين امتداد الملف `ico` ليتم استثناؤه، فإن طلب الأساس `GET /favicon.ico` لن يتم فحصه بواسطة FAST وسيتم تخطيه.<br>للتعبير النظامي الشكل التالي:<br>- `.`: أي عدد (صفر أو أكثر) من أي حرف<br>- `x*`: أي عدد (صفر أو أكثر) من حرف `x`<br>- `x?`: حرف `x` الفردي (أو لا شيء)<br>- أي امتداد ملف فردي (مثل، `jpg`)<br>- عدة امتدادات محددة بالعمود الرأسي (مثل، `jpg` &#124; `png`)<br>القيمة الافتراضية: سلسلة فارغة (FAST سيفحص طلبات الأساس بأي امتداد ملف). | 
|  | `policy_id` | معرّف سياسة الاختبار.<br>إذا كان هذا الباراميتر مفقوداً، فيتم تنفيذ السياسة الافتراضية |
|  | `stop_on_first_fail` | يحدد هذا الباراميتر سلوك FAST عند اكتشاف ثغرة أمنية:<br>`true`: يوقف تنفيذ التشغيل التجريبي عند الثغرة الأمنية الأولى المكتشفة.<br>`false`: يعالج جميع طلبات الأساس بغض النظر عن ما إذا كان قد تم اكتشاف أي ثغرة أمنية.<br>القيمة الافتراضية: `false` |
|  | `rps_per_baseline` | يحدد هذا الباراميتر حدًا على عدد طلبات الاختبار (*RPS*, *requests per second*) المرسلة إلى التطبيق المستهدف (على سبيل المثال، قد يكون هناك 100 طلب اختبار مستمدة من طلب أساس واحد).<br>يتم تعيين الحد لكل طلب أساس (لا يتم إرسال أكثر من `N` طلب اختبار في الثانية لكل طلب أساس فردي) في التشغيل التجريبي.<br>القيمة الدنيا: `1`.<br>القيمة القصوى: `500`.<br>القيمة الافتراضية: `null` (RPS غير محدود) |
|  | `rps` | يشبه هذا الباراميتر الوارد اعلاه، باستثناء أنه يحد من RPS على مستوى التشغيل التجريبي بأكمله، وليس فقط لطلب أساس فردي.<br>بمعنى أن إجمالي عدد طلبات الاختبار في الثانية يجب ألا يتجاوز القيمة المحددة بغض النظر عن عدد طلبات الأساس التي تم تسجيلها خلال التشغيل التجريبي.<br>القيمة الدنيا: `1`.<br>القيمة القصوى: `1000`.<br>القيمة الافتراضية: `null` (RPS غير محدود) |

**مثال على طلب:**

```
curl --request POST \
  --url https://us1.api.wallarm.com/v1/test_run \
  --header 'Content-Type: application/json' \
  --header 'Host: us1.api.wallarm.com' \
  --header 'X-WallarmAPI-Token: token_Qwe12345' \
  --data '{
    "name":"demo-testrun",
    "test_record_id":"rec_0001"
}'
```

**مثال على استجابة: جار نسخ تشغيل الاختبار**

```
{
  "status": 200,
  "body": {
    "id": tr_1234,
    "name": "demo-testrun",
    ...
    "state": "cloning",
    ...
    "test_record_id": "rec_0001",
    ...
}
```

تعني حالة `cloning` أنه يتم استنساخ طلبات الأساس من تشغيل الاختبار الأصلي إلى نسخته (تشغيل الاختبار بمعرّف `tr_1234`).

**مثال على استجابة: فشل نسخ تشغيل الاختبار**

```
{
  "status": 400,
  "body": {
    "test_record_id": {
      "error": "not_ready_for_cloning",
      "value": "rec_0001"
    }
  }
}
```

تعني الخطأ `not_ready_for_cloning` أنه لا يمكن استنساخ طلبات الأساس من تشغيل الاختبار الأصلي إلى نسخته بسبب أن عملية التسجيل نشطة في تشغيل الاختبار الأصلي (تشمل تسجيل الاختبار بالمعرّف `rec_0001`).