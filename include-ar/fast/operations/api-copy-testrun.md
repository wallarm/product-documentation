[doc-inactivity-timeout]: internals.md#test-run

| استدعاء API: | `POST /v1/test_run` |      |
| ------------ | ------------------- | ---- |
| تصريح: | مطلوب | يُقدَّم التصريح بواسطة الرمز |
| HTTP header مع الرمز: | `X-WallarmAPI-Token` | يُستخدم لنقل قيمة الرمز إلى خادم الAPI |
| المعاملات: | `name` **(مطلوب)** | اسم تشغيل الاختبار |
| | `test_record_id` **(مطلوب)** | تعريف سجل الاختبار الموجود |
|  | `desc` | وصف مفصل لتشغيل الاختبار.<br>القيمة الافتراضية: سلسلة فارغة |
|  | `file_extensions_to_exclude` | يتيح هذا المعامل تحديد أنواع محددة من الملفات التي يجب استثناؤها من عملية التقييم أثناء الاختبار. يتم تحديد هذه الأنواع من الملفات بواسطة التعبير النمطي.<br>على سبيل المثال، إذا قمت بتعيين امتداد الملف `ico` ليتم استثناؤه، فإن طلب الأساس `GET /favicon.ico` لن يتم فحصه بواسطة FAST وسيتم تخطيه.<br>التعبير النمطي يتبع الصيغة التالية:<br>- `.`: أي عدد (صفر أو أكثر) من أي حرف<br>- `x*`: أي عدد (صفر أو أكثر) من حرف `x`<br>- `x?`: حرف `x` الفردي (أو لا شيء)<br>- أي امتداد ملف فردي (مثل، `jpg`)<br>- عدة امتدادات مفصولة بالشرطة العمودية (مثل، `jpg` &#124; `png`)<br>القيمة الافتراضية: سلسلة فارغة (FAST ستفحص طلبات الأساس بأي امتداد ملف). | 
|  | `policy_id` | تعريف سياسة الاختبار.<br>إذا كان هذا المعامل مفقودًا، فإن السياسة الافتراضية تتخذ إجراء |
|  | `stop_on_first_fail` | يحدد هذا المعامل سلوك FAST عند اكتشاف ثغرة أمنية:<br>`true`: يوقف تنفيذ تشغيل الاختبار عند الثغرة الأمنية الأولى المكتشفة.<br>`false`: يعالج جميع طلبات الأساس بغض النظر عما إذا كانت أي ثغرة أمنية مكتشفة.<br>القيمة الافتراضية: `false` |
|  | `rps_per_baseline` | يحدد هذا المعامل حدًا على عدد طلبات الاختبار (*RPS*, *طلبات في الثانية الواحدة*) المُرسلة إلى التطبيق الهدف (على سبيل المثال، قد يكون هناك 100 طلب اختبار مشتق من طلب أساس واحد).<br>يتم تعيين الحد لكل طلب أساس (لن يُرسل أكثر من `N` طلب اختبار في الثانية الواحدة لطلب أساس فردي) في تشغيل الاختبار.<br>الحد الأدنى للقيمة: `1`.<br>الحد الأقصى للقيمة: `500`.<br>القيمة الافتراضية: `null` (RPS غير محدود) |
|  | `rps` | هذا المعامل مشابه للذي وُصف أعلاه، باستثناء أنه يحد من RPS عالميًا لكل تشغيل اختبار، ليس فقط لطلب أساس واحد.<br>بمعنى آخر، إجمالي عدد طلبات الاختبار في الثانية الواحدة لا يجب أن يتجاوز القيمة المحددة بغض النظر عن عدد طلبات الأساس التي تم تسجيلها أثناء تشغيل الاختبار.<br>الحد الأدنى للقيمة: `1`.<br>الحد الأقصى للقيمة: `1000`.<br>القيمة الافتراضية: `null` (RPS غير محدود) |

**مثال على طلب:**

```
curl --request POST \
  --url https://us1.api.wallarm.com/v1/test_run \
  --header 'Content-Type: application/json' \
  --header 'Host: us1.api.wallarm.com' \
  --header 'X-WallarmAPI-Token: token_Qwe12345' \
  --data '{
    "name":"demo-testrun",
    "test_record_id":"rec_0001"
}'
```

**مثال على رد: جارٍ نسخ تشغيل الاختبار**

```
{
  "status": 200,
  "body": {
    "id": tr_1234,
    "name": "demo-testrun",
    ...
    "state": "cloning",
    ...
    "test_record_id": "rec_0001",
    ...
}
```

تعني حالة `cloning` أن طلبات الأساس يتم نسخها من تشغيل الاختبار الأصلي إلى نسخته (تشغيل الاختبار بتعريف `tr_1234`).

**مثال على رد: فشل نسخ تشغيل الاختبار**

```
{
  "status": 400,
  "body": {
    "test_record_id": {
      "error": "not_ready_for_cloning",
      "value": "rec_0001"
    }
  }
}
```

تعني الخطأ `not_ready_for_cloning` أنه لا يمكن نسخ طلبات الأساس من تشغيل الاختبار الأصلي إلى نسخته لأن عملية التسجيل نشطة في تشغيل الاختبار الأصلي (الذي يشمل سجل الاختبار بتعريف `rec_0001`).