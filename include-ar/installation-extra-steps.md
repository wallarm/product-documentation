## إعدادات إضافية

قد يحتاج عقد التصفية إلى بعض الإعدادات الإضافية بعد التثبيت.

الوثيقة أدناه تعرض قائمة ببعض الإعدادات النمطية التي يمكنك تطبيقها إذا لزم الأمر.

للحصول على مزيد من المعلومات حول الإعدادات الأخرى المتاحة، تابع إلى قسم **التكوين** ضمن دليل المسؤول.

### تكوين عرض العنوان الحقيقي للعميل

إذا تم نشر عقد التصفية خلف خادم وكيل أو موازن تحميل دون أي إعدادات إضافية، قد لا يساوي عنوان مصدر الطلب العنوان الفعلي لعنوان IP للعميل. بدلاً من ذلك، قد يكون مساويًا لأحد عناوين IP الخاصة بخادم الوكيل أو موازن التحميل.

في هذه الحالة، إذا كنت ترغب في أن يتلقى عقد التصفية عنوان IP للعميل كعنوان مصدر للطلب، تحتاج إلى إجراء [إعداد إضافي](using-proxy-or-balancer-en.md) لخادم الوكيل أو موازن التحميل.

### تحديد وقت معالجة الطلب الفردي

استخدم توجيه [`wallarm_process_time_limit`](configure-parameters-en.md#wallarm_process_time_limit) من Wallarm لتحديد الحد الأقصى لمدة معالجة طلب فردي بواسطة عقد التصفية.

إذا استغرقت معالجة الطلب وقتًا أطول مما هو محدد في التوجيه، فإن المعلومات حول الخطأ يتم إدخالها في ملف السجل ويتم تمييز الطلب كهجوم `overlimit_res`.

### تحديد وقت انتظار رد الخادم

استخدم توجيه [`proxy_read_timeout`](https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_read_timeout) من NGINX لتحديد فترة توقيت انتظار رد خادم الوكيل.

إذا لم يرسل الخادم أي شيء خلال هذا الوقت، يتم إغلاق الاتصال.

### تحديد الحد الأقصى لحجم الطلب

استخدم توجيه [`client_max_body_size`](https://nginx.org/en/docs/http/ngx_http_core_module.html#client_max_body_size) من NGINX لتحديد الحد للحجم الأقصى لجسم طلب العميل.

إذا تجاوز هذا الحد، يرد NGINX على العميل برمز `413` (`Payload Too Large`)، والمعروف أيضًا باسم رسالة `Request Entity Too Large`.