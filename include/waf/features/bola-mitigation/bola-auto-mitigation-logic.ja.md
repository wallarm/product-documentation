BOLA保護が有効になると、Wallarmは以下のように動作します:

1. BOLA攻撃の対象となる可能性が最も高いAPIエンドポイントを特定します。例えば、[パスパラメータの可変性][variability-in-endpoints-docs]があるもの：`domain.com/path1/path2/path3/{variative_path4}`。

    !!! info "この段階には時間がかかります"
        脆弱なAPIエンドポイントの特定には、発見されたAPIインベントリと受信トラフィックの傾向を深く観察するための時間が必要です。
    
    自動的にBOLA攻撃に対して保護されるのは、**API Discovery**モジュールによって探索されたAPIエンドポイントのみです。保護されたエンドポイントは[対応するアイコンで強調表示されます][bola-protection-for-endpoints-docs]。
1. BOLA攻撃に対して脆弱なAPIエンドポイントを保護します。デフォルトの保護ロジックは以下の通りです:

    * 同じIPからの1分あたりのリクエストが180リクエストを超える脆弱なエンドポイントへのリクエストは、BOLA攻撃と見なされます。
    * 同じIPからのリクエストが閾値に達した場合にのみ、イベントリストにBOLA攻撃を登録します。WallarmはBOLA攻撃をブロックしません。リクエストは引き続きアプリケーションに送信されます。

        自動保護テンプレートでの対応の仕方は、**攻撃のみを登録する**です。
1. [APIの変更][changes-in-api-docs]に対応して、新たな脆弱なエンドポイントの保護を追加し、削除されたエンドポイントの保護を無効にします。