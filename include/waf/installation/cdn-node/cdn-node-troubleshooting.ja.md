### CDNノードのステータスの意味は何ですか？

次のステータスは、Wallarmコンソール → **ノード**でCDNノードに表示されることがあります：

* **登録中**：WallarmはクラウドプロバイダでCDNノードを登録しています。

    必要なアクション：保護されたドメインのDNSレコードにWallarm CNAMEレコードを追加するために、**CNAMEが必要**なステータスを待ちます。
* **CNAMEが必要**：保護されたドメインのDNSレコードにWallarm CNAMEレコードが追加されていないか、まだ伝搬されていません。
    
    必要なアクション：Wallarmが提供するCNAMEレコードを保護されたドメインのDNSレコードに追加するか、変更がインターネット上で有効になるのを待ちます。
    
    24時間以上変更が有効にならない場合は、ドメインプロバイダがDNSレコードを正常に更新したことを確認してください。そうである場合でも、Wallarmコンソールで**まだ伝搬されていない**ステータスが表示されたままの場合は、[Wallarmテクニカルサポート](mailto:support@wallarm.com)に連絡してください。

    次の予想されるステータスは**アクティブ**です。
* **設定中**：Wallarmは、変更されたオリジンアドレスまたはSSL/TLS証明書を処理します。
    
    必要なアクション：**アクティブ**ステータスを待ちます。
* **アクティブ**：WallarmのCDNノードは悪意のあるトラフィックを軽減します。

    必要なアクション：なし。CDNノードが検出する[イベント][events-docs]を監視できます。
* **削除中**：WallarmはCDNノードを削除します。

    必要なアクション：なし、削除が完了するのを待ってください。

### CNAMEレコードが伝搬したかどうかを確認する方法は？

Wallarmコンソールの**ノード**セクションは、WallarmのCNAMEレコードがインターネット上で効果を発揮したかどうかの実際のステータスを表示します。CNAMEレコードが伝搬されている場合、CDNノードのステータスは**アクティブ**です。

さらに、次のリクエストでHTTPレスポンスヘッダーを確認できます：

```bash
curl -v <PROTECTED_DOMAIN>
```

WallarmのCNAMEレコードが伝搬されている場合、レスポンスには`section-io-*`ヘッダーが含まれます。

CNAMEレコードが24時間以上伝搬されない場合は、ドメインプロバイダがDNSレコードを正常に更新したことを確認してください。そうである場合でも、Wallarmコンソールで**まだ伝搬されていない**ステータスが表示されたままの場合は、[Wallarmテクニカルサポート](mailto:support@wallarm.com)に連絡してください。

### **ノード**セクションでCDNノードが赤で強調表示されています。何を意味しますか？

**ノード**セクションでCDNノードが赤で強調表示されている場合、登録または設定中に次の理由でエラーが発生しました：

* サードパーティのクラウドプロバイダでのノード登録中に不明なエラーが発生しました

    必要なアクション： [Wallarmテクニカルサポート](mailto:support@wallarm.com)に連絡してください。
* 無効なカスタムSSL/TLS証明書

    必要なアクション：アップロードした証明書が有効であることを確認してください。そうでない場合は、有効なものをアップロードしてください。

赤で強調表示されたCDNノードは、リクエストをプロキシせず、その結果、悪意のあるトラフィックを軽減しません。

### WallarmコンソールのノードリストからCDNノードが消える理由は何ですか？

Wallarmは、ノードの作成時から10日以上経過してCNAMEレコードが変更されていないCDNノードを削除します。

CDNノードが消えたことに気付いた場合は、新しいノードを作成してください。

### CDNノードで保護されたコンテンツの更新が遅れる理由は何ですか？

CDNノードでサイトが保護されており、データを変更すると、サイトが遅れて更新されることに気付く場合、おそらく原因は [Varnish Cache][using-varnish-cache]でコンテンツの配信を高速化しますが、CDN上のキャッシュされたコピーは遅れて更新されることがあります。

例：

1. CDNノードにVarnish Cacheが有効になっています。
1. サイトの価格を更新しました。
1. すべてのリクエストがCDN経由でプロキシされ、キャッシュはすぐには更新されません。
1. サイトのユーザーはしばらくの間、古い価格を表示します。

問題を解決するには、Varnish Cacheを無効にすることができます。これを行うには、**ノード** → CDNノードメニュー → **Varnish Cacheを無効にする**に進んでください。