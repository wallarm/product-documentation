Environment variable | Description| Required
--- | ---- | ----
`WALLARM_API_TOKEN` | Wallarm node or API token. | Yes
`WALLARM_LABELS` | <p>Available starting from node 4.6. Works only if `WALLARM_API_TOKEN` is set to [API token][api-token] with the `Deploy` role. Sets the `group` label for node instance grouping, for example:</p> <p>`WALLARM_LABELS="group=<GROUP>"`</p> <p>...will place node instance into the `<GROUP>` instance group (existing, or, if does not exist, it will be created).</p> | Yes (for API tokens)
`NGINX_BACKEND` | Domain or IP address of the resource to protect with the Wallarm solution. | Yes
`WALLARM_API_HOST` | Wallarm API server:<ul><li>`us1.api.wallarm.com` for the US Cloud</li><li>`api.wallarm.com` for the EU Cloud</li></ul>By default: `api.wallarm.com`. | No
`WALLARM_MODE` | Node mode:<ul><li>`block` to block malicious requests</li><li>`safe_blocking` to block only those malicious requests originated from [graylisted IP addresses][graylist-docs]</li><li>`monitoring` to analyze but not block requests</li><li>`off` to disable traffic analyzing and processing</li></ul>By default: `monitoring`.<br>[Detailed description of filtration modes →][filtration-modes-docs] | No
`WALLARM_APPLICATION` | Unique identifier of the protected application to be used in the Wallarm Cloud. The value can be a positive integer except for `0`.<br><br>Default value (if the variable is not passed to the container) is `-1` which indicates the **default** application displayed in Wallarm Console → **Settings** → **Application**.<br><br>[More details on setting up applications →][application-configuration] | No
`TARANTOOL_MEMORY_GB` | [Amount of memory][allocating-memory-guide] allocated to Tarantool. The value can be an integer or a float (a dot <code>.</code> is a decimal separator). By default: 0.2 gygabytes. | No
`NGINX_PORT` | Sets a port that NGINX will use inside the Docker container.<br><br>Starting from the Docker image `4.0.2-1`, the [`wallarm-status`][node-status-docs] service automatically runs on the same port as NGINX.<br><br>Default value (if the variable is not passed to the container) is `80`.<br><br>Syntax is `NGINX_PORT='443'`. | No
<a name="wallarm-status-allow-env-var"></a>`WALLARM_STATUS_ALLOW` | Custom CIDRs that are allowed to access the [`/wallarm-status` endpoint][node-status-docs] from outside the Docker container. Example value: `10.0.0.0/8`. If you need to pass several values, use a comma `,` as a separator. To access the service externally, use the Docker container's IP, specifying the `/wallarm-status` endpoint path. | No
`DISABLE_IPV6`| The variable with any value except for an empty one deletes the `listen [::]:80 default_server ipv6only=on;` line from the NGINX configuration file which will stop NGINX from IPv6 connection processing.<br><br>If the variable is not specified explicitly or has an empty value `""`, NGINX processes both IPv6 and IPv4 connections. | No
`WALLARM_APIFW_ENABLE` | This setting toggles [API Policy Enforcement][api-policy-enf-docs] on or off, available from release 4.10 onwards. Please note that activating this feature does not substitute for the required subscription and configuration through the Wallarm Console UI.<br><br>Its default value is `true`, enabling the functionality. | No